/*! For license information please see homa-sidebar.js.LICENSE.txt */
(()=>{"use strict";var e={56(e,n,t){e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72(e){var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=a[u]||0,f="".concat(u," ").concat(l);a[u]=l+1;var d=t(f),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(m);else{var p=o(m,r);r.byIndex=s,n.splice(s,0,{identifier:f,updater:p,references:1})}i.push(f)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=t(a[i]);n[s].references--}for(var c=r(e,o),u=0;u<a.length;u++){var l=t(a[u]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}a=c}}},113(e){e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},162(e,n,t){var r=t(609),o=t(888),a="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},i=o.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,o){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=u(function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&d.hasValue){var n=d.value;if(o(n,e))return s=n}return s=e}if(n=s,a(i,e))return n;var t=r(e);return void 0!==o&&o(n,t)?(i=e,n):(i=e,s=t)}var i,s,c=!1,u=void 0===t?null:t;return[function(){return e(n())},null===u?void 0:function(){return e(u())}]},[n,t,r,o]);var m=i(e,f[0],f[1]);return c(function(){d.hasValue=!0,d.value=m},[m]),l(m),m}},242(e,n,t){e.exports=t(162)},309(e,n,t){t.d(n,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * Homa Parallel UI Styles\n * CSS for the viewport squeeze logic and React sidebar\n */\n\n/* ========================================\n   1. Global Wrapper - Viewport Squeeze Engine\n   ======================================== */\n\n#homa-global-wrapper {\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999999;\n}\n\n/* Site view container (Divi content) */\n#homa-site-view {\n    flex: 1 0 100%;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    transition: flex-basis 0.6s cubic-bezier(0.65, 0, 0.35, 1);\n    will-change: flex-basis;\n    scrollbar-gutter: stable;\n}\n\n/* Sidebar container (React app) */\n#homa-sidebar-view {\n    flex: 0 0 0%;\n    background: #ffffff;\n    transition: flex-basis 0.6s cubic-bezier(0.65, 0, 0.35, 1);\n    border-left: 2px solid #eaeaea;\n    overflow: hidden;\n    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);\n}\n\n/* Active state - when Homa is open */\nbody.homa-open #homa-site-view {\n    flex-basis: 70%;\n}\n\nbody.homa-open #homa-sidebar-view {\n    flex-basis: 30%;\n}\n\n/* Fix Divi header in compressed state */\nbody.homa-open #main-header,\nbody.homa-open .et-fixed-header {\n    width: 70% !important;\n    left: 0 !important;\n}\n\n/* ========================================\n   2. Sidebar Component Styles\n   ======================================== */\n\n.homa-sidebar-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n}\n\n/* Sidebar Header */\n.homa-sidebar-header {\n    display: flex;\n    align-items: center;\n    padding: 20px;\n    border-bottom: 1px solid #e0e0e0;\n    background: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.homa-avatar {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 12px;\n}\n\n.homa-avatar-icon {\n    font-size: 24px;\n}\n\n.homa-header-text h3 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n    color: #333;\n}\n\n.homa-header-text p {\n    margin: 4px 0 0;\n    font-size: 13px;\n    color: #666;\n}\n\n.homa-close-btn {\n    margin-right: auto;\n    background: none;\n    border: none;\n    font-size: 24px;\n    cursor: pointer;\n    color: #666;\n    padding: 8px;\n    line-height: 1;\n    transition: color 0.2s;\n}\n\n.homa-close-btn:hover {\n    color: #333;\n}\n\n/* Sidebar Content (Messages) */\n.homa-sidebar-content {\n    flex: 1;\n    overflow-y: auto;\n    padding: 20px;\n    direction: rtl;\n}\n\n.homa-message-list {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n/* Individual Message */\n.homa-message {\n    max-width: 85%;\n    animation: messageSlideIn 0.3s ease-out;\n}\n\n@keyframes messageSlideIn {\n    from {\n        opacity: 0;\n        transform: translateY(10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.homa-message-user {\n    align-self: flex-start;\n}\n\n.homa-message-assistant {\n    align-self: flex-end;\n}\n\n.homa-message-content {\n    padding: 12px 16px;\n    border-radius: 12px;\n    font-size: 14px;\n    line-height: 1.6;\n    word-wrap: break-word;\n}\n\n.homa-message-user .homa-message-content {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #ffffff;\n    border-bottom-left-radius: 4px;\n}\n\n.homa-message-assistant .homa-message-content {\n    background: #f0f0f0;\n    color: #333;\n    border-bottom-right-radius: 4px;\n}\n\n.homa-message-time {\n    font-size: 11px;\n    color: #999;\n    margin-top: 4px;\n    text-align: left;\n}\n\n.homa-message-user .homa-message-time {\n    text-align: right;\n}\n\n/* Streaming cursor */\n.homa-cursor {\n    display: inline-block;\n    animation: blink 1s infinite;\n    margin-right: 2px;\n}\n\n@keyframes blink {\n    0%, 50% { opacity: 1; }\n    51%, 100% { opacity: 0; }\n}\n\n/* ========================================\n   3. Smart Chips\n   ======================================== */\n\n.homa-smart-chips {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    padding: 12px 20px;\n    border-top: 1px solid #e0e0e0;\n    background: #fafafa;\n}\n\n.homa-chip {\n    padding: 8px 16px;\n    background: #ffffff;\n    border: 1px solid #e0e0e0;\n    border-radius: 20px;\n    font-size: 13px;\n    cursor: pointer;\n    transition: all 0.2s;\n    color: #555;\n}\n\n.homa-chip:hover {\n    background: #667eea;\n    color: #ffffff;\n    border-color: #667eea;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n}\n\n/* ========================================\n   4. Chat Input\n   ======================================== */\n\n.homa-chat-input {\n    display: flex;\n    align-items: flex-end;\n    gap: 8px;\n    padding: 16px 20px;\n    border-top: 1px solid #e0e0e0;\n    background: #ffffff;\n}\n\n.homa-chat-input textarea {\n    flex: 1;\n    padding: 12px;\n    border: 1px solid #e0e0e0;\n    border-radius: 12px;\n    font-size: 14px;\n    font-family: inherit;\n    resize: none;\n    outline: none;\n    transition: border-color 0.2s;\n}\n\n.homa-chat-input textarea:focus {\n    border-color: #667eea;\n}\n\n.homa-send-btn {\n    width: 44px;\n    height: 44px;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    border: none;\n    border-radius: 50%;\n    color: #ffffff;\n    font-size: 20px;\n    cursor: pointer;\n    transition: transform 0.2s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.homa-send-btn:hover:not(:disabled) {\n    transform: scale(1.1);\n}\n\n.homa-send-btn:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n/* ========================================\n   5. Action Execution Animations\n   ======================================== */\n\n/* Pulse animation for highlighted elements */\n@keyframes homa-pulse {\n    0%, 100% {\n        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);\n        border-color: transparent;\n    }\n    50% {\n        box-shadow: 0 0 0 15px rgba(102, 126, 234, 0);\n        border-color: #667eea;\n    }\n}\n\n.homa-pulse {\n    animation: homa-pulse 1.5s ease-in-out 2;\n    border: 2px solid #667eea !important;\n    outline: 2px solid #667eea;\n    outline-offset: 2px;\n}\n\n/* ========================================\n   6. Mobile Responsiveness\n   ======================================== */\n\n@media (max-width: 768px) {\n    /* Mobile: Sidebar as bottom sheet */\n    #homa-global-wrapper {\n        flex-direction: column;\n    }\n\n    body.homa-open #homa-site-view {\n        flex-basis: 60%;\n    }\n\n    body.homa-open #homa-sidebar-view {\n        flex-basis: 40%;\n        border-left: none;\n        border-top: 2px solid #eaeaea;\n    }\n\n    body.homa-open #main-header,\n    body.homa-open .et-fixed-header {\n        width: 100% !important;\n    }\n}\n\n@media (max-width: 480px) {\n    body.homa-open #homa-site-view {\n        flex-basis: 50%;\n    }\n\n    body.homa-open #homa-sidebar-view {\n        flex-basis: 50%;\n    }\n\n    .homa-message {\n        max-width: 90%;\n    }\n\n    .homa-smart-chips {\n        flex-direction: column;\n    }\n\n    .homa-chip {\n        width: 100%;\n        text-align: center;\n    }\n}\n\n/* ========================================\n   7. Accessibility\n   ======================================== */\n\n.homa-sidebar-container *:focus {\n    outline: 2px solid #667eea;\n    outline-offset: 2px;\n}\n\n/* Reduced motion for users who prefer it */\n@media (prefers-reduced-motion: reduce) {\n    #homa-site-view,\n    #homa-sidebar-view,\n    .homa-message,\n    .homa-chip,\n    .homa-send-btn {\n        animation: none;\n        transition: none;\n    }\n}\n",""]);const s=i},314(e){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),n.push(l))}},n}},338(e,n,t){var r=t(795);r.createRoot,r.hydrateRoot},493(e,n,t){var r=t(609),o="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},a=r.useState,i=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!o(e,t)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=a({inst:{value:t,getSnapshot:n}}),o=r[0].inst,l=r[1];return s(function(){o.value=t,o.getSnapshot=n,u(o)&&l({inst:o})},[e,t,n]),i(function(){return u(o)&&l({inst:o}),e(function(){u(o)&&l({inst:o})})},[e]),c(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},540(e){e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601(e){e.exports=function(e){return e[1]}},609(e){e.exports=window.React},659(e){var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},795(e){e.exports=window.ReactDOM},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},888(e,n,t){e.exports=t(493)}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var r=t(609),o=t.n(r);t(338);const a=e=>{let n;const t=new Set,r=(e,r)=>{const o="function"==typeof e?e(n):e;if(!Object.is(o,n)){const e=n;n=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},n,o),t.forEach(t=>t(n,e))}},o=()=>n,a={setState:r,getState:o,getInitialState:()=>i,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>{"production"!=={NODE_ENV:"production"}.MODE&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},i=n=e(r,o,a);return a};var i=t(242);const{useDebugValue:s}=r,{useSyncExternalStoreWithSelector:c}=i;let u=!1;const l=e=>e,f=e=>{"production"!=={NODE_ENV:"production"}.MODE&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n="function"==typeof e?(e=>e?a(e):a)(e):e,t=(e,t)=>function(e,n=l,t){"production"!=={NODE_ENV:"production"}.MODE&&t&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);const r=c(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,t);return s(r),r}(n,e,t);return Object.assign(t,n),t};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){h(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function h(e,n,t){return(n=function(e){var n=function(e){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return v(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var y,g=(y=function(e){return{messages:[],userPersona:null,isTyping:!1,sidebarOpen:!1,addMessage:function(n){return e(function(e){return{messages:[].concat(b(e.messages),[n])}})},clearMessages:function(){return e({messages:[]})},setUserPersona:function(n){return e({userPersona:n})},setIsTyping:function(n){return e({isTyping:n})},setSidebarOpen:function(n){return e({sidebarOpen:n})},updateLastMessage:function(n){return e(function(e){var t=b(e.messages);return t.length>0&&(t[t.length-1]=p(p({},t[t.length-1]),n)),{messages:t}})}}})?f(y):f,w=function(e,n){(0,r.useEffect)(function(){if(window.Homa&&window.Homa.on)return window.Homa.on(e,n);console.warn("[Homa React Bridge] Event bus not available")},[e,n])};function x(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return S(u,"_invoke",function(t,r,o){var a,s,c,u=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return a=n,s=0,c=e,d.n=t,i}};function m(t,r){for(s=t,c=r,n=0;!f&&u&&!o&&n<l.length;n++){var o,a=l[n],m=d.p,p=a[2];t>3?(o=p===r)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=t<2&&m<a[1])?(s=0,d.v=r,d.n=a[1]):m<p&&(o=t<3||a[0]>r||r>p)&&(a[4]=t,a[5]=r,d.n=p,s=0))}if(o||t>1)return i;throw f=!0,r}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),s=l,c=p;(n=s<2?e:c)||!f;){a||(s?s<3?(s>1&&(d.n=-1),m(s,c)):d.n=c:d.v=c);try{if(u=2,a){if(s||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,s<2&&(s=0)}else 1===s&&(n=a.return)&&n.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((n=(f=d.n<0)?c:t.call(r,d))!==i)break}catch(n){a=e,s=1,c=n}finally{u=1}}return{value:n,done:f}}}(t,o,a),!0),u}var i={};function s(){}function c(){}function u(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(S(n={},r,function(){return this}),n),f=u.prototype=s.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,S(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,S(f,"constructor",u),S(u,"constructor",c),c.displayName="GeneratorFunction",S(u,o,"GeneratorFunction"),S(f),S(f,o,"Generator"),S(f,r,function(){return this}),S(f,"toString",function(){return"[object Generator]"}),(x=function(){return{w:a,m:d}})()}function S(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}S=function(e,n,t,r){function a(n,t){S(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},S(e,n,t,r)}function E(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,o)}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var P=function(e){var n=e.message,t=e.streamingDelay,a=void 0===t?20:t,i=O((0,r.useState)(""),2),s=i[0],c=i[1],u=O((0,r.useState)(!1),2),l=u[0],f=u[1];(0,r.useEffect)(function(){"assistant"!==n.type||s?"user"===n.type&&c(n.content):(f(!0),d(n.content))},[n.content]);var d=function(){var e,n=(e=x().m(function e(n){var t,r;return x().w(function(e){for(;;)switch(e.n){case 0:t=0,(r=function(){t<n.length?(c(function(e){return e+n[t]}),t++,setTimeout(r,a)):f(!1)})();case 1:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){E(a,r,o,i,s,"next",e)}function s(e){E(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}();return o().createElement("div",{className:"homa-message homa-message-".concat(n.type)},o().createElement("div",{className:"homa-message-content"},s||n.content,l&&o().createElement("span",{className:"homa-cursor"},"â–Š")),n.timestamp&&o().createElement("div",{className:"homa-message-time"},new Date(n.timestamp).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})))};const A=function(e){var n=e.messages,t=e.streamingDelay,r=void 0===t?20:t;return o().createElement("div",{className:"homa-message-list"},n.map(function(e){return o().createElement(P,{key:e.id,message:e,streamingDelay:r})}))};function D(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return T(u,"_invoke",function(t,r,o){var a,s,c,u=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return a=n,s=0,c=e,d.n=t,i}};function m(t,r){for(s=t,c=r,n=0;!f&&u&&!o&&n<l.length;n++){var o,a=l[n],m=d.p,p=a[2];t>3?(o=p===r)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=t<2&&m<a[1])?(s=0,d.v=r,d.n=a[1]):m<p&&(o=t<3||a[0]>r||r>p)&&(a[4]=t,a[5]=r,d.n=p,s=0))}if(o||t>1)return i;throw f=!0,r}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),s=l,c=p;(n=s<2?e:c)||!f;){a||(s?s<3?(s>1&&(d.n=-1),m(s,c)):d.n=c:d.v=c);try{if(u=2,a){if(s||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,s<2&&(s=0)}else 1===s&&(n=a.return)&&n.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((n=(f=d.n<0)?c:t.call(r,d))!==i)break}catch(n){a=e,s=1,c=n}finally{u=1}}return{value:n,done:f}}}(t,o,a),!0),u}var i={};function s(){}function c(){}function u(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(T(n={},r,function(){return this}),n),f=u.prototype=s.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,T(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,T(f,"constructor",u),T(u,"constructor",c),c.displayName="GeneratorFunction",T(u,o,"GeneratorFunction"),T(f),T(f,o,"Generator"),T(f,r,function(){return this}),T(f,"toString",function(){return"[object Generator]"}),(D=function(){return{w:a,m:d}})()}function T(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}T=function(e,n,t,r){function a(n,t){T(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},T(e,n,t,r)}function k(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,o)}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return M(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const N=function(e){var n=e.onSendMessage,t=I((0,r.useState)(""),2),a=t[0],i=t[1],s=I((0,r.useState)(!1),2),c=s[0],u=s[1],l=function(){var e,t=(e=D().m(function e(t){return D().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),a.trim()&&!c){e.n=1;break}return e.a(2);case 1:return u(!0),e.n=2,n(a.trim());case 2:i(""),u(!1);case 3:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){k(a,r,o,i,s,"next",e)}function s(e){k(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}();return o().createElement("form",{className:"homa-chat-input",onSubmit:l},o().createElement("textarea",{value:a,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),l(e))},placeholder:"Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...",rows:"2",disabled:c,dir:"rtl"}),o().createElement("button",{type:"submit",disabled:!a.trim()||c,className:"homa-send-btn","aria-label":"Ø§Ø±Ø³Ø§Ù„"},c?"...":"â¤"))},C=function(e){var n=e.persona,t=e.onChipClick,r=function(){if(!n)return[{id:"intro",label:"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ú©Ù†",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… Ú©ØªØ§Ø¨Ù… Ø±Ø§ Ú†Ø§Ù¾ Ú©Ù†Ù…ØŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ú©Ù†"},{id:"price",label:"Ù‚ÛŒÙ…Øª Ú†Ø§Ù¾",message:"Ù‡Ø²ÛŒÙ†Ù‡ Ú†Ø§Ù¾ Ú©ØªØ§Ø¨ Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ"},{id:"quality",label:"Ú©ÛŒÙÛŒØª Ú†Ø§Ù¾",message:"Ø§Ù†ÙˆØ§Ø¹ Ú©Ø§ØºØ° Ùˆ Ú©ÛŒÙÛŒØª Ú†Ø§Ù¾ Ú†ÛŒØ³ØªØŸ"}];var e={Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡:[{id:"license",label:"Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø¬ÙˆØ² Ø¯Ø§Ø±Ù…",message:"Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ú©ØªØ§Ø¨Ù… Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø¬ÙˆØ² Ø¯Ø§Ø±Ù…"},{id:"copyright",label:"Ø´Ø§Ø¨Ú© Ùˆ Ø­Ù‚ Ù†Ø´Ø±",message:"Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø´Ø§Ø¨Ú© Ùˆ Ø­Ù‚ Ù†Ø´Ø± ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡"},{id:"print_type",label:"Ù†ÙˆØ¹ Ú†Ø§Ù¾ Ù…Ù†Ø§Ø³Ø¨",message:"Ú†Ù‡ Ù†ÙˆØ¹ Ú†Ø§Ù¾ÛŒ Ø¨Ø±Ø§ÛŒ Ú©ØªØ§Ø¨ Ù…Ù† Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª?"}],Ù†Ø§Ø´Ø±:[{id:"bulk",label:"Ú†Ø§Ù¾ Ø§Ù†Ø¨ÙˆÙ‡",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… ØªÛŒØ±Ø§Ú˜ Ø¨Ø§Ù„Ø§ Ú†Ø§Ù¾ Ú©Ù†Ù…"},{id:"discount",label:"ØªØ®ÙÛŒÙ Ø­Ø¬Ù…ÛŒ",message:"Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ø§Ù†Ø¨ÙˆÙ‡ ØªØ®ÙÛŒÙ Ø¯Ø§Ø±ÛŒØ¯ØŸ"},{id:"quality",label:"Ú©ÛŒÙÛŒØª ÙˆÛŒÚ˜Ù‡",message:"Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª Ú†Ø§Ù¾ Ø±Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù…"}],Ø¯Ø§Ù†Ø´Ø¬Ùˆ:[{id:"thesis",label:"Ú†Ø§Ù¾ Ù¾Ø§ÛŒØ§Ù†â€ŒÙ†Ø§Ù…Ù‡",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… Ù¾Ø§ÛŒØ§Ù†â€ŒÙ†Ø§Ù…Ù‡ Ú†Ø§Ù¾ Ú©Ù†Ù…"},{id:"fast",label:"Ú†Ø§Ù¾ ÙÙˆØ±ÛŒ",message:"Ø¨Ù‡ Ø³Ø±Ø¹Øª Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù…"},{id:"budget",label:"Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨",message:"Ø¯Ù†Ø¨Ø§Ù„ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨ Ù‡Ø³ØªÙ…"}],Ù…Ø¯ÛŒØ±:[{id:"catalog",label:"Ú†Ø§Ù¾ Ú©Ø§ØªØ§Ù„ÙˆÚ¯",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… Ú©Ø§ØªØ§Ù„ÙˆÚ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú†Ø§Ù¾ Ú©Ù†Ù…"},{id:"brochure",label:"Ø¨Ø±ÙˆØ´ÙˆØ± Ø´Ø±Ú©ØªÛŒ",message:"Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú†Ø§Ù¾ Ø¨Ø±ÙˆØ´ÙˆØ± Ø¯Ø§Ø±Ù…"},{id:"invoice",label:"Ú†Ø§Ù¾ Ø§ÙˆØ±Ø§Ù‚ Ø§Ø¯Ø§Ø±ÛŒ",message:"ÙØ§Ú©ØªÙˆØ± Ùˆ Ø³Ø±Ø¨Ø±Ú¯ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù…"}]};return e[n]||e["Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡"]}();return o().createElement("div",{className:"homa-smart-chips"},r.map(function(e){return o().createElement("button",{key:e.id,className:"homa-chip",onClick:function(){return t(e)}},e.label)}))};function _(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return H(u,"_invoke",function(t,r,o){var a,s,c,u=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return a=n,s=0,c=e,d.n=t,i}};function m(t,r){for(s=t,c=r,n=0;!f&&u&&!o&&n<l.length;n++){var o,a=l[n],m=d.p,p=a[2];t>3?(o=p===r)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=t<2&&m<a[1])?(s=0,d.v=r,d.n=a[1]):m<p&&(o=t<3||a[0]>r||r>p)&&(a[4]=t,a[5]=r,d.n=p,s=0))}if(o||t>1)return i;throw f=!0,r}return function(o,l,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),s=l,c=p;(n=s<2?e:c)||!f;){a||(s?s<3?(s>1&&(d.n=-1),m(s,c)):d.n=c:d.v=c);try{if(u=2,a){if(s||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,s<2&&(s=0)}else 1===s&&(n=a.return)&&n.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((n=(f=d.n<0)?c:t.call(r,d))!==i)break}catch(n){a=e,s=1,c=n}finally{u=1}}return{value:n,done:f}}}(t,o,a),!0),u}var i={};function s(){}function c(){}function u(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(H(n={},r,function(){return this}),n),f=u.prototype=s.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,H(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,H(f,"constructor",u),H(u,"constructor",c),c.displayName="GeneratorFunction",H(u,o,"GeneratorFunction"),H(f),H(f,o,"Generator"),H(f,r,function(){return this}),H(f,"toString",function(){return"[object Generator]"}),(_=function(){return{w:a,m:d}})()}function H(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}H=function(e,n,t,r){function a(n,t){H(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},H(e,n,t,r)}function R(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,o)}function z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const G=function(){var e,n,t=(e=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return z(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?z(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],i=t[1],s=g(),c=s.messages,u=s.addMessage,l=s.userPersona,f=s.setUserPersona,d=s.setIsTyping,m=(0,r.useRef)(null),p=(0,r.useCallback)(function(e,n){window.Homa&&window.Homa.emit?window.Homa.emit(e,n):console.warn("[Homa React Bridge] Event bus not available")},[]);(0,r.useEffect)(function(){var e=function(e){i(e.detail.isOpen)};return document.addEventListener("homa:toggle-sidebar",e),b(),window.Homa&&window.Homa.emit&&window.Homa.emit("react:ready",{timestamp:Date.now()}),function(){document.removeEventListener("homa:toggle-sidebar",e)}},[]),w("site:input_change",function(e){console.log("[Homa React] Site input changed:",e),e.meaning&&e.value&&(Date.now(),"Ø¯Ø± Ø­Ø§Ù„ ØªØ­Ù„ÛŒÙ„ ".concat(e.meaning,": ").concat(e.value,"..."),new Date)}),w("ai:processing",function(e){d(e.processing||!1)}),w("ai:response_received",function(e){if(e&&e.text){var n={id:Date.now(),type:"assistant",content:e.text,timestamp:new Date,actions:e.actions||[]};u(n)}}),(0,r.useEffect)(function(){h()},[c]);var h=function(){var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},b=function(){try{var e=localStorage.getItem("homa_chat_history");if(e){var n=JSON.parse(e);n.messages&&Array.isArray(n.messages)&&n.messages.forEach(function(e){return u(e)}),n.persona&&f(n.persona)}}catch(e){console.error("Failed to load chat history:",e)}};(0,r.useEffect)(function(){c.length>0&&function(){try{var e={messages:c,persona:l,timestamp:Date.now()};localStorage.setItem("homa_chat_history",JSON.stringify(e))}catch(e){console.error("Failed to save chat history:",e)}}()},[c,l]);var v=function(){var e,n=(e=_().m(function e(n){var t,r,o,a,i,s,c,f,d,m;return _().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t={id:Date.now(),type:"user",content:n,timestamp:new Date},u(t),p("chat:user_message",{message:n}),p("ai:processing",{processing:!0}),e.p=1,null!==(r=window.homayeParallelUIConfig)&&void 0!==r&&r.nonce){e.n=2;break}throw new Error("Ø§Ù…Ù†ÛŒØª: Ù†Ø´Ø³Øª Ø´Ù…Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯.");case 2:return a=(null===(o=window.Homa)||void 0===o?void 0:o.getState())||{},i=y(),e.n=3,fetch("/wp-json/homaye/v1/ai/chat",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.homayeParallelUIConfig.nonce},body:JSON.stringify({message:n,persona:l,context:{page:window.location.pathname,formData:i,currentInput:a.currentUserInput,pageMap:a.pageMap}})});case 3:return s=e.v,e.n=4,s.json();case 4:c=e.v,p("ai:processing",{processing:!1}),c.success&&(f={id:Date.now()+1,type:"assistant",content:c.response,timestamp:new Date,actions:c.actions||[]},u(f),p("ai:response_received",{text:c.response,actions:c.actions,commands:c.commands}),c.actions&&Array.isArray(c.actions)&&c.actions.forEach(function(e){p("ai:command",e)}),c.commands&&Array.isArray(c.commands)&&c.commands.forEach(function(e){p("ai:command",e)})),e.n=6;break;case 5:e.p=5,m=e.v,console.error("Failed to send message:",m),p("ai:processing",{processing:!1}),d={id:Date.now()+1,type:"assistant",content:"Ù…ØªØ£Ø³ÙÙ…ØŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.",timestamp:new Date},u(d);case 6:return e.a(2)}},e,null,[[1,5]])}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){R(a,r,o,i,s,"next",e)}function s(e){R(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),y=function(){var e={};return document.querySelectorAll("#homa-site-view input, #homa-site-view select, #homa-site-view textarea").forEach(function(n){n.name&&(e[n.name]=n.value)}),e};return o().createElement("div",{className:"homa-sidebar-container ".concat(a?"open":"")},o().createElement("div",{className:"homa-sidebar-header"},o().createElement("div",{className:"homa-avatar"},o().createElement("span",{className:"homa-avatar-icon"},"ğŸ¤–")),o().createElement("div",{className:"homa-header-text"},o().createElement("h3",null,"Ù‡Ù…Ø§ÛŒ ØªØ§Ø¨Ø´"),o().createElement("p",null,"Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ú†Ø§Ù¾")),o().createElement("button",{className:"homa-close-btn",onClick:function(){document.body.classList.remove("homa-open"),i(!1),p("sidebar:close_requested",{})},"aria-label":"Ø¨Ø³ØªÙ†"},"âœ•")),o().createElement("div",{className:"homa-sidebar-content"},o().createElement(A,{messages:c}),o().createElement("div",{ref:m})),o().createElement(C,{persona:l,onChipClick:function(e){"string"==typeof e?v(e):e.message&&v(e.message)}}),o().createElement(N,{onSendMessage:v}))};var U=t(72),F=t.n(U),L=t(825),V=t.n(L),q=t(659),W=t.n(q),B=t(56),J=t.n(B),$=t(540),Y=t.n($),K=t(113),X=t.n(K),Q=t(309),Z={};Z.styleTagTransform=X(),Z.setAttributes=J(),Z.insert=W().bind(null,"head"),Z.domAPI=V(),Z.insertStyleElement=Y(),F()(Q.A,Z),Q.A&&Q.A.locals&&Q.A.locals,window.initHomaParallelUI=function(){if(void 0!==window.React&&void 0!==window.ReactDOM){var e=document.getElementById("homa-sidebar-view");if(e)try{window.ReactDOM.createRoot(e).render(window.React.createElement(G)),window.HomaOrchestrator?window.HomaOrchestrator.init():console.warn("[Homa] Orchestrator not found")}catch(n){console.error("[Homa] Initialization error:",n),e.innerHTML='\n            <div style="padding: 20px; text-align: center; color: #721c24; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px; margin: 20px;">\n                <h3>Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‡Ù…Ø§</h3>\n                <p>Ù„Ø·ÙØ§Ù‹ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯. Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø´ØªØŒ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.</p>\n            </div>\n        '}else console.error("[Homa] Sidebar container not found")}else{console.error("[Homa] React or ReactDOM not loaded. Please check CDN availability.");var n=document.getElementById("homa-sidebar-view");n&&(n.innerHTML='\n                <div style="padding: 20px; text-align: center; color: #721c24; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px; margin: 20px;">\n                    <h3>Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‡Ù…Ø§</h3>\n                    <p>Ù„Ø·ÙØ§Ù‹ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯.</p>\n                </div>\n            ')}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){window.initHomaParallelUI&&window.initHomaParallelUI()}):window.initHomaParallelUI&&window.initHomaParallelUI(),window.HomaSidebar={}})();