/*! For license information please see homa-sidebar.js.LICENSE.txt */
(()=>{"use strict";var e={56(e,n,t){e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72(e){var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var f=t(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)n[f].references++,n[f].updater(p);else{var m=o(p,r);r.byIndex=c,n.splice(c,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=t(a[i]);n[c].references--}for(var s=r(e,o),l=0;l<a.length;l++){var u=t(a[l]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}a=s}}},113(e){e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},162(e,n,t){var r=t(609),o=t(888),a="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},i=o.useSyncExternalStore,c=r.useRef,s=r.useEffect,l=r.useMemo,u=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,o){var d=c(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var n=f.value;if(o(n,e))return c=n}return c=e}if(n=c,a(i,e))return n;var t=r(e);return void 0!==o&&o(n,t)?(i=e,n):(i=e,c=t)}var i,c,s=!1,l=void 0===t?null:t;return[function(){return e(n())},null===l?void 0:function(){return e(l())}]},[n,t,r,o]);var p=i(e,d[0],d[1]);return s(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},242(e,n,t){e.exports=t(162)},309(e,n,t){t.d(n,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,"/**\n * Homa Parallel UI Styles\n * CSS for the viewport squeeze logic and React sidebar\n */\n\n/* ========================================\n   1. Global Wrapper - Viewport Squeeze Engine\n   ======================================== */\n\n#homa-global-wrapper {\n    display: flex;\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999999;\n}\n\n/* Site view container (Divi content) */\n#homa-site-view {\n    flex: 1 0 100%;\n    height: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n    transition: flex-basis 0.6s cubic-bezier(0.65, 0, 0.35, 1);\n    will-change: flex-basis;\n    scrollbar-gutter: stable;\n}\n\n/* Sidebar container (React app) */\n#homa-sidebar-view {\n    flex: 0 0 0%;\n    background: #ffffff;\n    transition: flex-basis 0.6s cubic-bezier(0.65, 0, 0.35, 1);\n    border-left: 2px solid #eaeaea;\n    overflow: hidden;\n    box-shadow: -4px 0 20px rgba(0, 0, 0, 0.1);\n}\n\n/* Active state - when Homa is open */\nbody.homa-open #homa-site-view {\n    flex-basis: 70%;\n}\n\nbody.homa-open #homa-sidebar-view {\n    flex-basis: 30%;\n}\n\n/* Fix Divi header in compressed state */\nbody.homa-open #main-header,\nbody.homa-open .et-fixed-header {\n    width: 70% !important;\n    left: 0 !important;\n}\n\n/* ========================================\n   2. Sidebar Component Styles\n   ======================================== */\n\n.homa-sidebar-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n}\n\n/* Sidebar Header */\n.homa-sidebar-header {\n    display: flex;\n    align-items: center;\n    padding: 20px;\n    border-bottom: 1px solid #e0e0e0;\n    background: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.homa-avatar {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 12px;\n}\n\n.homa-avatar-icon {\n    font-size: 24px;\n}\n\n.homa-header-text h3 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n    color: #333;\n}\n\n.homa-header-text p {\n    margin: 4px 0 0;\n    font-size: 13px;\n    color: #666;\n}\n\n.homa-close-btn {\n    margin-right: auto;\n    background: none;\n    border: none;\n    font-size: 24px;\n    cursor: pointer;\n    color: #666;\n    padding: 8px;\n    line-height: 1;\n    transition: color 0.2s;\n}\n\n.homa-close-btn:hover {\n    color: #333;\n}\n\n/* Sidebar Content (Messages) */\n.homa-sidebar-content {\n    flex: 1;\n    overflow-y: auto;\n    padding: 20px;\n    direction: rtl;\n}\n\n.homa-message-list {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n/* Individual Message */\n.homa-message {\n    max-width: 85%;\n    animation: messageSlideIn 0.3s ease-out;\n}\n\n@keyframes messageSlideIn {\n    from {\n        opacity: 0;\n        transform: translateY(10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.homa-message-user {\n    align-self: flex-start;\n}\n\n.homa-message-assistant {\n    align-self: flex-end;\n}\n\n.homa-message-content {\n    padding: 12px 16px;\n    border-radius: 12px;\n    font-size: 14px;\n    line-height: 1.6;\n    word-wrap: break-word;\n}\n\n.homa-message-user .homa-message-content {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #ffffff;\n    border-bottom-left-radius: 4px;\n}\n\n.homa-message-assistant .homa-message-content {\n    background: #f0f0f0;\n    color: #333;\n    border-bottom-right-radius: 4px;\n}\n\n.homa-message-time {\n    font-size: 11px;\n    color: #999;\n    margin-top: 4px;\n    text-align: left;\n}\n\n.homa-message-user .homa-message-time {\n    text-align: right;\n}\n\n/* Streaming cursor */\n.homa-cursor {\n    display: inline-block;\n    animation: blink 1s infinite;\n    margin-right: 2px;\n}\n\n@keyframes blink {\n    0%, 50% { opacity: 1; }\n    51%, 100% { opacity: 0; }\n}\n\n/* ========================================\n   3. Smart Chips\n   ======================================== */\n\n.homa-smart-chips {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    padding: 12px 20px;\n    border-top: 1px solid #e0e0e0;\n    background: #fafafa;\n}\n\n.homa-chip {\n    padding: 8px 16px;\n    background: #ffffff;\n    border: 1px solid #e0e0e0;\n    border-radius: 20px;\n    font-size: 13px;\n    cursor: pointer;\n    transition: all 0.2s;\n    color: #555;\n}\n\n.homa-chip:hover {\n    background: #667eea;\n    color: #ffffff;\n    border-color: #667eea;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n}\n\n/* ========================================\n   4. Chat Input\n   ======================================== */\n\n.homa-chat-input {\n    display: flex;\n    align-items: flex-end;\n    gap: 8px;\n    padding: 16px 20px;\n    border-top: 1px solid #e0e0e0;\n    background: #ffffff;\n}\n\n.homa-chat-input textarea {\n    flex: 1;\n    padding: 12px;\n    border: 1px solid #e0e0e0;\n    border-radius: 12px;\n    font-size: 14px;\n    font-family: inherit;\n    resize: none;\n    outline: none;\n    transition: border-color 0.2s;\n}\n\n.homa-chat-input textarea:focus {\n    border-color: #667eea;\n}\n\n.homa-send-btn {\n    width: 44px;\n    height: 44px;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    border: none;\n    border-radius: 50%;\n    color: #ffffff;\n    font-size: 20px;\n    cursor: pointer;\n    transition: transform 0.2s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.homa-send-btn:hover:not(:disabled) {\n    transform: scale(1.1);\n}\n\n.homa-send-btn:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n/* ========================================\n   5. Action Execution Animations\n   ======================================== */\n\n/* Pulse animation for highlighted elements */\n@keyframes homa-pulse {\n    0%, 100% {\n        box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);\n        border-color: transparent;\n    }\n    50% {\n        box-shadow: 0 0 0 15px rgba(102, 126, 234, 0);\n        border-color: #667eea;\n    }\n}\n\n.homa-pulse {\n    animation: homa-pulse 1.5s ease-in-out 2;\n    border: 2px solid #667eea !important;\n    outline: 2px solid #667eea;\n    outline-offset: 2px;\n}\n\n/* ========================================\n   6. Mobile Responsiveness\n   ======================================== */\n\n@media (max-width: 768px) {\n    /* Mobile: Sidebar as bottom sheet */\n    #homa-global-wrapper {\n        flex-direction: column;\n    }\n\n    body.homa-open #homa-site-view {\n        flex-basis: 60%;\n    }\n\n    body.homa-open #homa-sidebar-view {\n        flex-basis: 40%;\n        border-left: none;\n        border-top: 2px solid #eaeaea;\n    }\n\n    body.homa-open #main-header,\n    body.homa-open .et-fixed-header {\n        width: 100% !important;\n    }\n}\n\n@media (max-width: 480px) {\n    body.homa-open #homa-site-view {\n        flex-basis: 50%;\n    }\n\n    body.homa-open #homa-sidebar-view {\n        flex-basis: 50%;\n    }\n\n    .homa-message {\n        max-width: 90%;\n    }\n\n    .homa-smart-chips {\n        flex-direction: column;\n    }\n\n    .homa-chip {\n        width: 100%;\n        text-align: center;\n    }\n}\n\n/* ========================================\n   7. Accessibility\n   ======================================== */\n\n.homa-sidebar-container *:focus {\n    outline: 2px solid #667eea;\n    outline-offset: 2px;\n}\n\n/* Reduced motion for users who prefer it */\n@media (prefers-reduced-motion: reduce) {\n    #homa-site-view,\n    #homa-sidebar-view,\n    .homa-message,\n    .homa-chip,\n    .homa-send-btn {\n        animation: none;\n        transition: none;\n    }\n}\n",""]);const c=i},314(e){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},338(e,n,t){var r=t(795);r.createRoot,r.hydrateRoot},493(e,n,t){var r=t(609),o="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},a=r.useState,i=r.useEffect,c=r.useLayoutEffect,s=r.useDebugValue;function l(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!o(e,t)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=a({inst:{value:t,getSnapshot:n}}),o=r[0].inst,u=r[1];return c(function(){o.value=t,o.getSnapshot=n,l(o)&&u({inst:o})},[e,t,n]),i(function(){return l(o)&&u({inst:o}),e(function(){l(o)&&u({inst:o})})},[e]),s(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},540(e){e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601(e){e.exports=function(e){return e[1]}},609(e){e.exports=window.React},659(e){var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},738(e,n,t){t.d(n,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([e.id,'/**\n * Explore Widget Styles\n * Instagram-like recommendation cards\n * \n * @package HomayeTabesh\n * @since PR10\n */\n\n.explore-widget {\n    width: 100%;\n    padding: 16px;\n    background: #f9f9f9;\n    border-radius: 8px;\n    margin-bottom: 16px;\n}\n\n.explore-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n}\n\n.explore-header h3 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n    color: #333;\n}\n\n.explore-refresh-btn {\n    background: transparent;\n    border: none;\n    font-size: 24px;\n    color: #667eea;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    transition: all 0.2s ease;\n}\n\n.explore-refresh-btn:hover {\n    background: rgba(102, 126, 234, 0.1);\n    transform: rotate(180deg);\n}\n\n/* Loading state */\n.explore-loading {\n    text-align: center;\n    padding: 32px 16px;\n}\n\n.loading-spinner {\n    width: 40px;\n    height: 40px;\n    margin: 0 auto 16px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #667eea;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n.explore-loading p {\n    color: #666;\n    font-size: 14px;\n}\n\n/* Error state */\n.explore-error {\n    text-align: center;\n    padding: 24px 16px;\n}\n\n.explore-error p {\n    color: #d32f2f;\n    margin-bottom: 16px;\n}\n\n.retry-btn {\n    background: #667eea;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: background 0.2s ease;\n}\n\n.retry-btn:hover {\n    background: #5568d3;\n}\n\n/* Empty state */\n.explore-empty {\n    text-align: center;\n    padding: 24px 16px;\n    color: #666;\n}\n\n.explore-hint {\n    font-size: 13px;\n    color: #999;\n    margin-top: 8px;\n}\n\n/* Category filter */\n.explore-categories {\n    display: flex;\n    gap: 8px;\n    margin-bottom: 16px;\n    overflow-x: auto;\n    padding-bottom: 8px;\n}\n\n.explore-categories::-webkit-scrollbar {\n    height: 4px;\n}\n\n.explore-categories::-webkit-scrollbar-thumb {\n    background: #ccc;\n    border-radius: 2px;\n}\n\n.category-btn {\n    padding: 6px 12px;\n    background: white;\n    border: 1px solid #e0e0e0;\n    border-radius: 20px;\n    font-size: 13px;\n    color: #666;\n    cursor: pointer;\n    white-space: nowrap;\n    transition: all 0.2s ease;\n}\n\n.category-btn:hover {\n    border-color: #667eea;\n    color: #667eea;\n}\n\n.category-btn.active {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    border-color: transparent;\n}\n\n/* Recommendation cards */\n.explore-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n}\n\n.explore-card {\n    background: white;\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n    transition: all 0.3s ease;\n    position: relative;\n}\n\n.explore-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n}\n\n.card-image {\n    width: 100%;\n    height: 140px;\n    overflow: hidden;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    position: relative;\n}\n\n.card-image img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    transition: transform 0.3s ease;\n}\n\n.explore-card:hover .card-image img {\n    transform: scale(1.1);\n}\n\n/* Placeholder for cards without images */\n.explore-card:not(:has(.card-image)) .card-content {\n    padding-top: 16px;\n}\n\n.card-content {\n    padding: 12px;\n}\n\n.card-category {\n    display: inline-block;\n    background: rgba(102, 126, 234, 0.1);\n    color: #667eea;\n    font-size: 11px;\n    padding: 4px 8px;\n    border-radius: 4px;\n    margin-bottom: 8px;\n    font-weight: 600;\n}\n\n.card-title {\n    margin: 0 0 8px 0;\n    font-size: 15px;\n    font-weight: 600;\n    color: #333;\n    line-height: 1.3;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n}\n\n.card-description {\n    margin: 0 0 12px 0;\n    font-size: 13px;\n    color: #666;\n    line-height: 1.5;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n}\n\n.card-reason {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 12px;\n    color: #999;\n    padding-top: 8px;\n    border-top: 1px solid #f0f0f0;\n}\n\n.reason-icon {\n    font-size: 14px;\n}\n\n.reason-text {\n    flex: 1;\n}\n\n/* RTL Support */\n[dir="rtl"] .explore-widget {\n    direction: rtl;\n    text-align: right;\n}\n\n/* Mobile optimizations */\n@media (max-width: 768px) {\n    .explore-widget {\n        padding: 12px;\n    }\n\n    .explore-header h3 {\n        font-size: 16px;\n    }\n\n    .card-image {\n        height: 120px;\n    }\n\n    .card-title {\n        font-size: 14px;\n    }\n\n    .card-description {\n        font-size: 12px;\n    }\n\n    .explore-categories {\n        gap: 6px;\n    }\n\n    .category-btn {\n        padding: 5px 10px;\n        font-size: 12px;\n    }\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n    .explore-card {\n        border: 2px solid #333;\n    }\n\n    .card-category {\n        background: #667eea;\n        color: white;\n    }\n\n    .category-btn {\n        border-width: 2px;\n    }\n}\n\n/* Reduced motion */\n@media (prefers-reduced-motion: reduce) {\n    .explore-card,\n    .card-image img,\n    .loading-spinner,\n    .explore-refresh-btn {\n        animation: none !important;\n        transition: none !important;\n    }\n\n    .explore-card:hover {\n        transform: none;\n    }\n}\n\n/* Dark mode support (if needed in future) */\n@media (prefers-color-scheme: dark) {\n    .explore-widget {\n        background: #2a2a2a;\n    }\n\n    .explore-card {\n        background: #333;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n    }\n\n    .explore-header h3,\n    .card-title {\n        color: #fff;\n    }\n\n    .card-description,\n    .explore-loading p,\n    .explore-empty {\n        color: #ccc;\n    }\n\n    .category-btn {\n        background: #444;\n        border-color: #555;\n        color: #ccc;\n    }\n\n    .category-btn:hover {\n        border-color: #667eea;\n        color: #667eea;\n    }\n}\n',""]);const c=i},795(e){e.exports=window.ReactDOM},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},888(e,n,t){e.exports=t(493)}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var r=t(609),o=t.n(r);t(338);const a=e=>{let n;const t=new Set,r=(e,r)=>{const o="function"==typeof e?e(n):e;if(!Object.is(o,n)){const e=n;n=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},n,o),t.forEach(t=>t(n,e))}},o=()=>n,a={setState:r,getState:o,getInitialState:()=>i,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>{"production"!=={NODE_ENV:"production"}.MODE&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},i=n=e(r,o,a);return a};var i=t(242);const{useDebugValue:c}=r,{useSyncExternalStoreWithSelector:s}=i;let l=!1;const u=e=>e,d=e=>{"production"!=={NODE_ENV:"production"}.MODE&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n="function"==typeof e?(e=>e?a(e):a)(e):e,t=(e,t)=>function(e,n=u,t){"production"!=={NODE_ENV:"production"}.MODE&&t&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);const r=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,t);return c(r),r}(n,e,t);return Object.assign(t,n),t};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){h(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function h(e,n,t){return(n=function(e){var n=function(e){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=f(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return b(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var y,v=(y=function(e){return{messages:[],userPersona:null,isTyping:!1,sidebarOpen:!1,addMessage:function(n){return e(function(e){return{messages:[].concat(g(e.messages),[n])}})},clearMessages:function(){return e({messages:[]})},setUserPersona:function(n){return e({userPersona:n})},setIsTyping:function(n){return e({isTyping:n})},setSidebarOpen:function(n){return e({sidebarOpen:n})},updateLastMessage:function(n){return e(function(e){var t=g(e.messages);return t.length>0&&(t[t.length-1]=m(m({},t[t.length-1]),n)),{messages:t}})}}})?d(y):d,x=function(e,n){(0,r.useEffect)(function(){if(window.Homa&&window.Homa.on)return window.Homa.on(e,n);console.warn("[Homa React Bridge] Event bus not available")},[e,n])},w=function(){return(0,r.useCallback)(function(e,n){window.Homa&&window.Homa.emit?window.Homa.emit(e,n):console.warn("[Homa React Bridge] Event bus not available")},[])};function E(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return S(l,"_invoke",function(t,r,o){var a,c,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,c=0,s=e,f.n=t,i}};function p(t,r){for(c=t,s=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,a=u[n],p=f.p,m=a[2];t>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,f.v=r,f.n=a[1]):p<m&&(o=t<3||a[0]>r||r>m)&&(a[4]=t,a[5]=r,f.n=m,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),c=u,s=m;(n=c<2?e:s)||!d;){a||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(l=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((n=(d=f.n<0)?s:t.call(r,f))!==i)break}catch(n){a=e,c=1,s=n}finally{l=1}}return{value:n,done:d}}}(t,o,a),!0),l}var i={};function c(){}function s(){}function l(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(S(n={},r,function(){return this}),n),d=l.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,S(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,S(d,"constructor",l),S(l,"constructor",s),s.displayName="GeneratorFunction",S(l,o,"GeneratorFunction"),S(d),S(d,o,"Generator"),S(d,r,function(){return this}),S(d,"toString",function(){return"[object Generator]"}),(E=function(){return{w:a,m:f}})()}function S(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}S=function(e,n,t,r){function a(n,t){S(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},S(e,n,t,r)}function O(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,o)}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var P=function(e){var n=e.message,t=e.streamingDelay,a=void 0===t?20:t,i=k((0,r.useState)(""),2),c=i[0],s=i[1],l=k((0,r.useState)(!1),2),u=l[0],d=l[1];(0,r.useEffect)(function(){"assistant"!==n.type||c?"user"===n.type&&s(n.content):(d(!0),f(n.content))},[n.content]);var f=function(){var e,n=(e=E().m(function e(n){var t,r;return E().w(function(e){for(;;)switch(e.n){case 0:t=0,(r=function(){t<n.length?(s(function(e){return e+n[t]}),t++,setTimeout(r,a)):d(!1)})();case 1:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){O(a,r,o,i,c,"next",e)}function c(e){O(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}();return o().createElement("div",{className:"homa-message homa-message-".concat(n.type)},o().createElement("div",{className:"homa-message-content"},c||n.content,u&&o().createElement("span",{className:"homa-cursor"},"â–Š")),n.timestamp&&o().createElement("div",{className:"homa-message-time"},new Date(n.timestamp).toLocaleTimeString("fa-IR",{hour:"2-digit",minute:"2-digit"})))};const A=function(e){var n=e.messages,t=e.streamingDelay,r=void 0===t?20:t;return o().createElement("div",{className:"homa-message-list"},n.map(function(e){return o().createElement(P,{key:e.id,message:e,streamingDelay:r})}))};function N(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return T(l,"_invoke",function(t,r,o){var a,c,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,c=0,s=e,f.n=t,i}};function p(t,r){for(c=t,s=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,a=u[n],p=f.p,m=a[2];t>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,f.v=r,f.n=a[1]):p<m&&(o=t<3||a[0]>r||r>m)&&(a[4]=t,a[5]=r,f.n=m,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),c=u,s=m;(n=c<2?e:s)||!d;){a||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(l=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((n=(d=f.n<0)?s:t.call(r,f))!==i)break}catch(n){a=e,c=1,s=n}finally{l=1}}return{value:n,done:d}}}(t,o,a),!0),l}var i={};function c(){}function s(){}function l(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(T(n={},r,function(){return this}),n),d=l.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,T(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,T(d,"constructor",l),T(l,"constructor",s),s.displayName="GeneratorFunction",T(l,o,"GeneratorFunction"),T(d),T(d,o,"Generator"),T(d,r,function(){return this}),T(d,"toString",function(){return"[object Generator]"}),(N=function(){return{w:a,m:f}})()}function T(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}T=function(e,n,t,r){function a(n,t){T(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},T(e,n,t,r)}function I(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,o)}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return _(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const C=function(e){var n=e.onSendMessage,t=D((0,r.useState)(""),2),a=t[0],i=t[1],c=D((0,r.useState)(!1),2),s=c[0],l=c[1],u=function(){var e,t=(e=N().m(function e(t){return N().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),a.trim()&&!s){e.n=1;break}return e.a(2);case 1:return l(!0),e.n=2,n(a.trim());case 2:i(""),l(!1);case 3:return e.a(2)}},e)}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){I(a,r,o,i,c,"next",e)}function c(e){I(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}();return o().createElement("form",{className:"homa-chat-input",onSubmit:u},o().createElement("textarea",{value:a,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u(e))},placeholder:"Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...",rows:"2",disabled:s,dir:"rtl"}),o().createElement("button",{type:"submit",disabled:!a.trim()||s,className:"homa-send-btn","aria-label":"Ø§Ø±Ø³Ø§Ù„"},s?"...":"âž¤"))},M=function(e){var n=e.persona,t=e.onChipClick,r=function(){if(!n)return[{id:"intro",label:"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ú©Ù†",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… Ú©ØªØ§Ø¨Ù… Ø±Ø§ Ú†Ø§Ù¾ Ú©Ù†Ù…ØŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ú©Ù†"},{id:"price",label:"Ù‚ÛŒÙ…Øª Ú†Ø§Ù¾",message:"Ù‡Ø²ÛŒÙ†Ù‡ Ú†Ø§Ù¾ Ú©ØªØ§Ø¨ Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ"},{id:"quality",label:"Ú©ÛŒÙÛŒØª Ú†Ø§Ù¾",message:"Ø§Ù†ÙˆØ§Ø¹ Ú©Ø§ØºØ° Ùˆ Ú©ÛŒÙÛŒØª Ú†Ø§Ù¾ Ú†ÛŒØ³ØªØŸ"}];var e={Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡:[{id:"license",label:"Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø¬ÙˆØ² Ø¯Ø§Ø±Ù…",message:"Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ú©ØªØ§Ø¨Ù… Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø¬ÙˆØ² Ø¯Ø§Ø±Ù…"},{id:"copyright",label:"Ø´Ø§Ø¨Ú© Ùˆ Ø­Ù‚ Ù†Ø´Ø±",message:"Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø´Ø§Ø¨Ú© Ùˆ Ø­Ù‚ Ù†Ø´Ø± ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡"},{id:"print_type",label:"Ù†ÙˆØ¹ Ú†Ø§Ù¾ Ù…Ù†Ø§Ø³Ø¨",message:"Ú†Ù‡ Ù†ÙˆØ¹ Ú†Ø§Ù¾ÛŒ Ø¨Ø±Ø§ÛŒ Ú©ØªØ§Ø¨ Ù…Ù† Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª?"}],Ù†Ø§Ø´Ø±:[{id:"bulk",label:"Ú†Ø§Ù¾ Ø§Ù†Ø¨ÙˆÙ‡",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… ØªÛŒØ±Ø§Ú˜ Ø¨Ø§Ù„Ø§ Ú†Ø§Ù¾ Ú©Ù†Ù…"},{id:"discount",label:"ØªØ®ÙÛŒÙ Ø­Ø¬Ù…ÛŒ",message:"Ø¨Ø±Ø§ÛŒ Ú†Ø§Ù¾ Ø§Ù†Ø¨ÙˆÙ‡ ØªØ®ÙÛŒÙ Ø¯Ø§Ø±ÛŒØ¯ØŸ"},{id:"quality",label:"Ú©ÛŒÙÛŒØª ÙˆÛŒÚ˜Ù‡",message:"Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª Ú†Ø§Ù¾ Ø±Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù…"}],Ø¯Ø§Ù†Ø´Ø¬Ùˆ:[{id:"thesis",label:"Ú†Ø§Ù¾ Ù¾Ø§ÛŒØ§Ù†â€ŒÙ†Ø§Ù…Ù‡",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… Ù¾Ø§ÛŒØ§Ù†â€ŒÙ†Ø§Ù…Ù‡ Ú†Ø§Ù¾ Ú©Ù†Ù…"},{id:"fast",label:"Ú†Ø§Ù¾ ÙÙˆØ±ÛŒ",message:"Ø¨Ù‡ Ø³Ø±Ø¹Øª Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù…"},{id:"budget",label:"Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨",message:"Ø¯Ù†Ø¨Ø§Ù„ Ù‚ÛŒÙ…Øª Ù…Ù†Ø§Ø³Ø¨ Ù‡Ø³ØªÙ…"}],Ù…Ø¯ÛŒØ±:[{id:"catalog",label:"Ú†Ø§Ù¾ Ú©Ø§ØªØ§Ù„ÙˆÚ¯",message:"Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù… Ú©Ø§ØªØ§Ù„ÙˆÚ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú†Ø§Ù¾ Ú©Ù†Ù…"},{id:"brochure",label:"Ø¨Ø±ÙˆØ´ÙˆØ± Ø´Ø±Ú©ØªÛŒ",message:"Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú†Ø§Ù¾ Ø¨Ø±ÙˆØ´ÙˆØ± Ø¯Ø§Ø±Ù…"},{id:"invoice",label:"Ú†Ø§Ù¾ Ø§ÙˆØ±Ø§Ù‚ Ø§Ø¯Ø§Ø±ÛŒ",message:"ÙØ§Ú©ØªÙˆØ± Ùˆ Ø³Ø±Ø¨Ø±Ú¯ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡Ù…"}]};return e[n]||e["Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡"]}();return o().createElement("div",{className:"homa-smart-chips"},r.map(function(e){return o().createElement("button",{key:e.id,className:"homa-chip",onClick:function(){return t(e)}},e.label)}))};var z=t(72),H=t.n(z),R=t(825),G=t.n(R),U=t(659),F=t.n(U),L=t(56),V=t.n(L),W=t(540),q=t.n(W),B=t(113),$=t.n(B),J=t(738),Y={};function K(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return X(l,"_invoke",function(t,r,o){var a,c,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,c=0,s=e,f.n=t,i}};function p(t,r){for(c=t,s=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,a=u[n],p=f.p,m=a[2];t>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,f.v=r,f.n=a[1]):p<m&&(o=t<3||a[0]>r||r>m)&&(a[4]=t,a[5]=r,f.n=m,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),c=u,s=m;(n=c<2?e:s)||!d;){a||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(l=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((n=(d=f.n<0)?s:t.call(r,f))!==i)break}catch(n){a=e,c=1,s=n}finally{l=1}}return{value:n,done:d}}}(t,o,a),!0),l}var i={};function c(){}function s(){}function l(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(X(n={},r,function(){return this}),n),d=l.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,X(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,X(d,"constructor",l),X(l,"constructor",s),s.displayName="GeneratorFunction",X(l,o,"GeneratorFunction"),X(d),X(d,o,"Generator"),X(d,r,function(){return this}),X(d,"toString",function(){return"[object Generator]"}),(K=function(){return{w:a,m:f}})()}function X(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}X=function(e,n,t,r){function a(n,t){X(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},X(e,n,t,r)}function Q(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,o)}function Z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,n)||ee(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,n){if(e){if("string"==typeof e)return ne(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,n):void 0}}function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}Y.styleTagTransform=$(),Y.setAttributes=V(),Y.insert=F().bind(null,"head"),Y.domAPI=G(),Y.insertStyleElement=q(),H()(J.A,Y),J.A&&J.A.locals&&J.A.locals;const te=function(){var e=Z((0,r.useState)([]),2),n=e[0],t=e[1],a=Z((0,r.useState)(!0),2),i=a[0],c=a[1],s=Z((0,r.useState)(null),2),l=s[0],u=s[1],d=Z((0,r.useState)("all"),2),f=d[0],p=d[1],m=w();(0,r.useEffect)(function(){g()},[]),x("vault:interests_updated",function(e){console.log("[Explore Widget] Interests updated, refreshing recommendations"),g()}),x("page:navigate",function(e){console.log("[Explore Widget] Page navigation detected, updating recommendations"),g()});var h,g=function(){var e,n=(e=K().m(function e(){var n,r,o,a,i;return K().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,c(!0),u(null),null!==(n=window.homayeParallelUIConfig)&&void 0!==n&&n.nonce){e.n=1;break}throw new Error("Ù†Ø´Ø³Øª Ø´Ù…Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª");case 1:return e.n=2,fetch("/wp-json/homaye-tabesh/v1/vault/interests",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.homayeParallelUIConfig.nonce}});case 2:if((r=e.v).ok){e.n=3;break}throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª");case 3:return e.n=4,r.json();case 4:o=e.v,a=b(o.interests||[]),t(a),c(!1),m("explore:recommendations_loaded",{count:a.length}),e.n=6;break;case 5:e.p=5,i=e.v,console.error("[Explore Widget] Error loading recommendations:",i),u(i.message),c(!1);case 6:return e.a(2)}},e,null,[[0,5]])}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){Q(a,r,o,i,c,"next",e)}function c(e){Q(a,r,o,i,c,"throw",e)}i(void 0)})});return function(){return n.apply(this,arguments)}}(),b=function(e){if(!e||0===e.length)return O();var n={};e.forEach(function(e){var t=e.category||"Ø¹Ù…ÙˆÙ…ÛŒ";n[t]||(n[t]=[]),n[t].push(e)});var t=[];return Object.entries(n).forEach(function(e){var n=Z(e,2),r=n[0],o=n[1].sort(function(e,n){return n.score-e.score})[0];t.push({id:"rec-".concat(r,"-").concat(Date.now()),category:r,title:y(o),description:v(o),image:E(o),link:o.related_url||"#",score:o.score||.5,reason:S(o)})}),t.sort(function(e,n){return n.score-e.score})},y=function(e){return e.product_name?e.product_name:e.page_title?e.page_title:"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ".concat(e.category||"ÙˆÛŒÚ˜Ù‡")},v=function(e){return e.description?e.description:e.context?e.context.substring(0,100)+"...":"Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¹Ù„Ø§ÛŒÙ‚ Ø´Ù…Ø§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯"},E=function(e){var n;return e.thumbnail?e.thumbnail:(null===(n=window.homayeParallelUIConfig)||void 0===n?void 0:n.pluginUrl)+"/assets/images/placeholder.jpg"||0},S=function(e){var n=["Ú†ÙˆÙ† Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø­ØªÙˆØ§ Ø¹Ù„Ø§Ù‚Ù‡ Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯ÛŒØ¯","Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§ÛŒ Ø§Ø®ÛŒØ± Ø´Ù…Ø§","Ù…Ø­ØµÙˆÙ„ Ù…Ú©Ù…Ù„ Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§","Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§","Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø§ÛŒÙ† Ø±Ø§ Ù‡Ù… Ø¯ÛŒØ¯Ù†Ø¯"],t=Math.floor(e.score*n.length);return n[Math.min(t,n.length-1)]},O=function(){return[{id:"default-1",category:"Ù…Ø­Ø¨ÙˆØ¨",title:"Ù…Ø­ØµÙˆÙ„Ø§Øª Ù¾Ø±ÙØ±ÙˆØ´",description:"Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÛŒÙ† Ù…Ø§Ù‡",image:"",link:"/shop",score:1,reason:"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…Ø­Ø¨ÙˆØ¨"},{id:"default-2",category:"Ø¬Ø¯ÛŒØ¯",title:"ØªØ§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø§ÛŒØª",description:"Ø¢Ø®Ø±ÛŒÙ† Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡",image:"",link:"/shop?orderby=date",score:.9,reason:"Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†â€ŒÙ‡Ø§"}]},k="all"===f?n:n.filter(function(e){return e.category===f}),j=["all"].concat(function(e){if(Array.isArray(e))return ne(e)}(h=new Set(n.map(function(e){return e.category})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||ee(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i?o().createElement("div",{className:"explore-widget"},o().createElement("div",{className:"explore-header"},o().createElement("h3",null,"ðŸ” Ø§Ú©Ø³Ù¾Ù„ÙˆØ±")),o().createElement("div",{className:"explore-loading"},o().createElement("div",{className:"loading-spinner"}),o().createElement("p",null,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª..."))):l?o().createElement("div",{className:"explore-widget"},o().createElement("div",{className:"explore-header"},o().createElement("h3",null,"ðŸ” Ø§Ú©Ø³Ù¾Ù„ÙˆØ±")),o().createElement("div",{className:"explore-error"},o().createElement("p",null,"âš ï¸ ",l),o().createElement("button",{onClick:g,className:"retry-btn"},"ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯"))):0===n.length?o().createElement("div",{className:"explore-widget"},o().createElement("div",{className:"explore-header"},o().createElement("h3",null,"ðŸ” Ø§Ú©Ø³Ù¾Ù„ÙˆØ±")),o().createElement("div",{className:"explore-empty"},o().createElement("p",null,"Ù‡Ù†ÙˆØ² Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù†Ø¯Ø§Ø±ÛŒÙ…"),o().createElement("p",{className:"explore-hint"},"Ú©Ù…ÛŒ Ø¯Ø± Ø³Ø§ÛŒØª Ø¨Ú¯Ø±Ø¯ÛŒØ¯ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø´Ù…Ø§ Ø±Ø§ Ø¨Ù‡ØªØ± Ø¨Ø´Ù†Ø§Ø³ÛŒÙ… ðŸ˜Š"))):o().createElement("div",{className:"explore-widget"},o().createElement("div",{className:"explore-header"},o().createElement("h3",null,"ðŸ” Ø§Ú©Ø³Ù¾Ù„ÙˆØ±"),o().createElement("button",{className:"explore-refresh-btn",onClick:g,title:"Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"},"â†»")),j.length>2&&o().createElement("div",{className:"explore-categories"},j.map(function(e){return o().createElement("button",{key:e,className:"category-btn ".concat(f===e?"active":""),onClick:function(){return p(e)}},"all"===e?"Ù‡Ù…Ù‡":e)})),o().createElement("div",{className:"explore-cards"},k.map(function(e){return o().createElement("div",{key:e.id,className:"explore-card",onClick:function(){return function(e){m("explore:card_clicked",{cardId:e.id,category:e.category,title:e.title}),e.link&&"#"!==e.link&&(window.location.href=e.link)}(e)}},e.image&&o().createElement("div",{className:"card-image"},o().createElement("img",{src:e.image,alt:e.title})),o().createElement("div",{className:"card-content"},o().createElement("div",{className:"card-category"},e.category),o().createElement("h4",{className:"card-title"},e.title),o().createElement("p",{className:"card-description"},e.description),o().createElement("div",{className:"card-reason"},o().createElement("span",{className:"reason-icon"},"ðŸ’¡"),o().createElement("span",{className:"reason-text"},e.reason))))})),0===k.length&&"all"!==f&&o().createElement("div",{className:"explore-empty"},o().createElement("p",null,"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯")))};function re(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return oe(l,"_invoke",function(t,r,o){var a,c,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,c=0,s=e,f.n=t,i}};function p(t,r){for(c=t,s=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,a=u[n],p=f.p,m=a[2];t>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,f.v=r,f.n=a[1]):p<m&&(o=t<3||a[0]>r||r>m)&&(a[4]=t,a[5]=r,f.n=m,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),c=u,s=m;(n=c<2?e:s)||!d;){a||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(l=2,a){if(c||(o="next"),n=a[o]){if(!(n=n.call(a,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,c<2&&(c=0)}else 1===c&&(n=a.return)&&n.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((n=(d=f.n<0)?s:t.call(r,f))!==i)break}catch(n){a=e,c=1,s=n}finally{l=1}}return{value:n,done:d}}}(t,o,a),!0),l}var i={};function c(){}function s(){}function l(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(oe(n={},r,function(){return this}),n),d=l.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,oe(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,oe(d,"constructor",l),oe(l,"constructor",s),s.displayName="GeneratorFunction",oe(l,o,"GeneratorFunction"),oe(d),oe(d,o,"Generator"),oe(d,r,function(){return this}),oe(d,"toString",function(){return"[object Generator]"}),(re=function(){return{w:a,m:f}})()}function oe(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}oe=function(e,n,t,r){function a(n,t){oe(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},oe(e,n,t,r)}function ae(e,n,t,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,o)}function ie(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const ce=function(){var e,n,t=(e=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(c.push(r.value),c.length!==n);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ie(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ie(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],i=t[1],c=v(),s=c.messages,l=c.addMessage,u=c.userPersona,d=c.setUserPersona,f=c.setIsTyping,p=(0,r.useRef)(null),m=w();(0,r.useEffect)(function(){var e=function(e){i(e.detail.isOpen)};return document.addEventListener("homa:toggle-sidebar",e),g(),window.Homa&&window.Homa.emit&&window.Homa.emit("react:ready",{timestamp:Date.now()}),function(){document.removeEventListener("homa:toggle-sidebar",e)}},[]),x("site:input_change",function(e){console.log("[Homa React] Site input changed:",e),e.meaning&&e.value&&(Date.now(),"Ø¯Ø± Ø­Ø§Ù„ ØªØ­Ù„ÛŒÙ„ ".concat(e.meaning,": ").concat(e.value,"..."),new Date)}),x("ai:processing",function(e){f(e.processing||!1)}),x("ai:response_received",function(e){if(e&&e.text){var n={id:Date.now(),type:"assistant",content:e.text,timestamp:new Date,actions:e.actions||[]};l(n)}}),(0,r.useEffect)(function(){h()},[s]);var h=function(){var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},g=function(){try{var e=localStorage.getItem("homa_chat_history");if(e){var n=JSON.parse(e);n.messages&&Array.isArray(n.messages)&&n.messages.forEach(function(e){return l(e)}),n.persona&&d(n.persona)}}catch(e){console.error("Failed to load chat history:",e)}};(0,r.useEffect)(function(){s.length>0&&function(){try{var e={messages:s,persona:u,timestamp:Date.now()};localStorage.setItem("homa_chat_history",JSON.stringify(e))}catch(e){console.error("Failed to save chat history:",e)}}()},[s,u]);var b=function(){var e,n=(e=re().m(function e(n){var t,r,o,a,i,c,s,d,f,p;return re().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t={id:Date.now(),type:"user",content:n,timestamp:new Date},l(t),m("chat:user_message",{message:n}),m("ai:processing",{processing:!0}),e.p=1,null!==(r=window.homayeParallelUIConfig)&&void 0!==r&&r.nonce){e.n=2;break}throw new Error("Ø§Ù…Ù†ÛŒØª: Ù†Ø´Ø³Øª Ø´Ù…Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯.");case 2:return a=(null===(o=window.Homa)||void 0===o?void 0:o.getState())||{},i=y(),e.n=3,fetch("/wp-json/homaye/v1/ai/chat",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.homayeParallelUIConfig.nonce},body:JSON.stringify({message:n,persona:u,context:{page:window.location.pathname,formData:i,currentInput:a.currentUserInput,pageMap:a.pageMap}})});case 3:return c=e.v,e.n=4,c.json();case 4:s=e.v,m("ai:processing",{processing:!1}),s.success&&(d={id:Date.now()+1,type:"assistant",content:s.response,timestamp:new Date,actions:s.actions||[]},l(d),m("ai:response_received",{text:s.response,actions:s.actions,commands:s.commands}),s.actions&&Array.isArray(s.actions)&&s.actions.forEach(function(e){m("ai:command",e)}),s.commands&&Array.isArray(s.commands)&&s.commands.forEach(function(e){m("ai:command",e)})),e.n=6;break;case 5:e.p=5,p=e.v,console.error("Failed to send message:",p),m("ai:processing",{processing:!1}),f={id:Date.now()+1,type:"assistant",content:"Ù…ØªØ£Ø³ÙÙ…ØŒ Ø®Ø·Ø§ÛŒÛŒ Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.",timestamp:new Date},l(f);case 6:return e.a(2)}},e,null,[[1,5]])}),function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){ae(a,r,o,i,c,"next",e)}function c(e){ae(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),y=function(){var e={};return document.querySelectorAll("#homa-site-view input, #homa-site-view select, #homa-site-view textarea").forEach(function(n){n.name&&(e[n.name]=n.value)}),e};return o().createElement("div",{className:"homa-sidebar-container ".concat(a?"open":"")},o().createElement("div",{className:"homa-sidebar-header"},o().createElement("div",{className:"homa-avatar"},o().createElement("span",{className:"homa-avatar-icon"},"ðŸ¤–")),o().createElement("div",{className:"homa-header-text"},o().createElement("h3",null,"Ù‡Ù…Ø§ÛŒ ØªØ§Ø¨Ø´"),o().createElement("p",null,"Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ú†Ø§Ù¾")),o().createElement("button",{className:"homa-close-btn",onClick:function(){document.body.classList.remove("homa-open"),i(!1),m("sidebar:close_requested",{})},"aria-label":"Ø¨Ø³ØªÙ†"},"âœ•")),o().createElement("div",{className:"homa-sidebar-content"},o().createElement(A,{messages:s}),o().createElement("div",{ref:p}),s.length<=2&&o().createElement(te,null)),o().createElement(M,{persona:u,onChipClick:function(e){"string"==typeof e?b(e):e.message&&b(e.message)}}),o().createElement(C,{onSendMessage:b}))};var se=t(309),le={};le.styleTagTransform=$(),le.setAttributes=V(),le.insert=F().bind(null,"head"),le.domAPI=G(),le.insertStyleElement=q(),H()(se.A,le),se.A&&se.A.locals&&se.A.locals,window.initHomaParallelUI=function(){if(void 0!==window.React&&void 0!==window.ReactDOM){var e=document.getElementById("homa-sidebar-view");if(e)try{window.ReactDOM.createRoot(e).render(window.React.createElement(ce)),window.HomaOrchestrator?window.HomaOrchestrator.init():console.warn("[Homa] Orchestrator not found")}catch(n){console.error("[Homa] Initialization error:",n),e.innerHTML='\n            <div style="padding: 20px; text-align: center; color: #721c24; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px; margin: 20px;">\n                <h3>Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‡Ù…Ø§</h3>\n                <p>Ù„Ø·ÙØ§Ù‹ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯. Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø´ØªØŒ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.</p>\n            </div>\n        '}else console.error("[Homa] Sidebar container not found")}else{console.error("[Homa] React or ReactDOM not loaded. Please check CDN availability.");var n=document.getElementById("homa-sidebar-view");n&&(n.innerHTML='\n                <div style="padding: 20px; text-align: center; color: #721c24; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 4px; margin: 20px;">\n                    <h3>Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‡Ù…Ø§</h3>\n                    <p>Ù„Ø·ÙØ§Ù‹ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯.</p>\n                </div>\n            ')}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){window.initHomaParallelUI&&window.initHomaParallelUI()}):window.initHomaParallelUI&&window.initHomaParallelUI(),window.HomaSidebar={}})();