/*! For license information please see super-console.js.LICENSE.txt */
(()=>{"use strict";var e={338(e,t,n){var a=n(795);t.H=a.createRoot,a.hydrateRoot},795(e){e.exports=window.ReactDOM}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=window.React;var r=n.n(a),l=n(338);function c(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,a,r,l){var o=a&&a.prototype instanceof s?a:s,u=Object.create(o.prototype);return i(u,"_invoke",function(n,a,r){var l,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return l=t,o=0,i=e,d.n=n,c}};function v(n,a){for(o=n,i=a,t=0;!m&&s&&!r&&t<u.length;t++){var r,l=u[t],v=d.p,f=l[2];n>3?(r=f===a)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=v&&((r=n<2&&v<l[1])?(o=0,d.v=a,d.n=l[1]):v<f&&(r=n<3||l[0]>a||a>f)&&(l[4]=n,l[5]=a,d.n=f,o=0))}if(r||n>1)return c;throw m=!0,a}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&v(u,f),o=u,i=f;(t=o<2?e:i)||!m;){l||(o?o<3?(o>1&&(d.n=-1),v(o,i)):d.n=i:d.v=i);try{if(s=2,l){if(o||(r="next"),t=l[r]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((t=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(n,r,l),!0),u}var c={};function s(){}function u(){}function m(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(i(t={},a,function(){return this}),t),v=m.prototype=s.prototype=Object.create(d);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,r,"GeneratorFunction")),e.prototype=Object.create(v),e}return u.prototype=m,i(v,"constructor",m),i(m,"constructor",u),u.displayName="GeneratorFunction",i(m,r,"GeneratorFunction"),i(v),i(v,r,"Generator"),i(v,a,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:f}})()}function i(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}i=function(e,t,n,a){function l(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},i(e,t,n,a)}function s(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(e){s(l,a,r,c,o,"next",e)}function o(e){s(l,a,r,c,o,"throw",e)}c(void 0)})}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,o=[],i=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const f=function(e){e.onRefresh;var t=m((0,a.useState)(null),2),n=t[0],l=t[1],i=m((0,a.useState)(!0),2),s=i[0],d=i[1],v=m((0,a.useState)("7days"),2),f=v[0],p=v[1],E=(0,a.useCallback)(u(o().m(function e(){var t,n,a;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return d(!0),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/analytics?range=").concat(f),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 2:return t=e.v,e.n=3,t.json();case 3:(n=e.v).success&&l(n.data),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to load analytics:",a);case 5:return e.p=5,d(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),[f]);(0,a.useEffect)(function(){E()},[E]);var y=(0,a.useMemo)(function(){return n||{token_usage:{total:0,by_section:{chat:0,translation:0,index:0}},leads:{total:0,conversion_rate:0},interests:[]}},[n]);return s?r().createElement("div",{className:"loading-container"},r().createElement("div",{className:"spinner"}),r().createElement("p",null,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù…Ø§Ø±...")):r().createElement("div",{className:"overview-analytics",dir:"rtl"},r().createElement("div",{className:"controls-bar"},r().createElement("div",{className:"time-range-selector"},r().createElement("button",{className:"24hours"===f?"active":"",onClick:function(){return p("24hours")}},"Û²Û´ Ø³Ø§Ø¹Øª"),r().createElement("button",{className:"7days"===f?"active":"",onClick:function(){return p("7days")}},"Û· Ø±ÙˆØ²"),r().createElement("button",{className:"30days"===f?"active":"",onClick:function(){return p("30days")}},"Û³Û° Ø±ÙˆØ²")),r().createElement("button",{className:"refresh-btn",onClick:E},"ğŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")),r().createElement("div",{className:"metrics-grid"},r().createElement("div",{className:"metric-card token-usage"},r().createElement("div",{className:"card-header"},r().createElement("h3",null,"ğŸ“ˆ Ù…ØµØ±Ù ØªÙˆÚ©Ù†"),r().createElement("span",{className:"total"},y.token_usage.total.toLocaleString("fa-IR"))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"usage-breakdown"},r().createElement("div",{className:"usage-item"},r().createElement("span",{className:"label"},"ğŸ’¬ Ú†Øª:"),r().createElement("span",{className:"value"},y.token_usage.by_section.chat.toLocaleString("fa-IR"))),r().createElement("div",{className:"usage-item"},r().createElement("span",{className:"label"},"ğŸŒ ØªØ±Ø¬Ù…Ù‡:"),r().createElement("span",{className:"value"},y.token_usage.by_section.translation.toLocaleString("fa-IR"))),r().createElement("div",{className:"usage-item"},r().createElement("span",{className:"label"},"ğŸ—‚ï¸ Ø§ÛŒÙ†Ø¯Ú©Ø³:"),r().createElement("span",{className:"value"},y.token_usage.by_section.index.toLocaleString("fa-IR")))))),r().createElement("div",{className:"metric-card leads"},r().createElement("div",{className:"card-header"},r().createElement("h3",null,"ğŸ‘¤ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…â€ŒÙ‡Ø§"),r().createElement("span",{className:"total"},y.leads.total.toLocaleString("fa-IR"))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"conversion-rate"},r().createElement("div",{className:"rate-circle"},r().createElement("svg",{viewBox:"0 0 36 36",className:"circular-chart"},r().createElement("path",{className:"circle-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),r().createElement("path",{className:"circle",strokeDasharray:"".concat(y.leads.conversion_rate,", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),r().createElement("text",{x:"18",y:"20.35",className:"percentage"},y.leads.conversion_rate,"%"))),r().createElement("p",{className:"rate-label"},"Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„ (Conversion Rate)")))),r().createElement("div",{className:"metric-card interests"},r().createElement("div",{className:"card-header"},r().createElement("h3",null,"ğŸ”¥ Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹Ø§Øª")),r().createElement("div",{className:"card-body"},y.interests&&y.interests.length>0?r().createElement("div",{className:"interests-list"},y.interests.slice(0,5).map(function(e,t){return r().createElement("div",{key:t,className:"interest-item"},r().createElement("span",{className:"rank"},"#",t+1),r().createElement("span",{className:"topic"},e.topic),r().createElement("span",{className:"count"},e.count))})):r().createElement("p",{className:"no-data"},"Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª")))),r().createElement("div",{className:"heatmap-section"},r().createElement("h3",null,"ğŸ—ºï¸ Ù‡ÛŒØªÙ…Ù¾ Ø¹Ù„Ø§ÛŒÙ‚ Ùˆ Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§"),r().createElement("div",{className:"heatmap-container"},y.interests&&y.interests.length>0?r().createElement("div",{className:"heatmap-grid"},y.interests.map(function(e,t){return r().createElement("div",{key:t,className:"heatmap-cell",style:{opacity:.3+e.count/Math.max.apply(Math,c(y.interests.map(function(e){return e.count})))*.7,fontSize:"".concat(12+e.count/Math.max.apply(Math,c(y.interests.map(function(e){return e.count})))*8,"px")}},e.topic)})):r().createElement("p",{className:"no-data"},"Ù‡Ù†ÙˆØ² Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª"))))};function p(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,a,r,l){var i=a&&a.prototype instanceof o?a:o,s=Object.create(i.prototype);return E(s,"_invoke",function(n,a,r){var l,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return l=t,o=0,i=e,d.n=n,c}};function v(n,a){for(o=n,i=a,t=0;!m&&s&&!r&&t<u.length;t++){var r,l=u[t],v=d.p,f=l[2];n>3?(r=f===a)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=v&&((r=n<2&&v<l[1])?(o=0,d.v=a,d.n=l[1]):v<f&&(r=n<3||l[0]>a||a>f)&&(l[4]=n,l[5]=a,d.n=f,o=0))}if(r||n>1)return c;throw m=!0,a}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&v(u,f),o=u,i=f;(t=o<2?e:i)||!m;){l||(o?o<3?(o>1&&(d.n=-1),v(o,i)):d.n=i:d.v=i);try{if(s=2,l){if(o||(r="next"),t=l[r]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((t=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(n,r,l),!0),s}var c={};function o(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(E(t={},a,function(){return this}),t),m=s.prototype=o.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,E(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=s,E(m,"constructor",s),E(s,"constructor",i),i.displayName="GeneratorFunction",E(s,r,"GeneratorFunction"),E(m),E(m,r,"Generator"),E(m,a,function(){return this}),E(m,"toString",function(){return"[object Generator]"}),(p=function(){return{w:l,m:d}})()}function E(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}E=function(e,t,n,a){function l(t,n){E(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},E(e,t,n,a)}function y(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(e){y(l,a,r,c,o,"next",e)}function o(e){y(l,a,r,c,o,"throw",e)}c(void 0)})}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,o=[],i=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const N=function(){var e,t,n=b((0,a.useState)([]),2),l=n[0],c=n[1],o=b((0,a.useState)(null),2),i=o[0],s=o[1],u=b((0,a.useState)("all"),2),m=u[0],d=u[1],v=b((0,a.useState)(""),2),f=v[0],E=v[1],y=b((0,a.useState)(!0),2),g=y[0],N=y[1];(0,a.useEffect)(function(){w()},[m]);var w=function(){var e=h(p().m(function e(){var t,n,a;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return N(!0),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/users?filter=").concat(m),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 2:return t=e.v,e.n=3,t.json();case 3:(n=e.v).success&&c(n.data),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to load users:",a);case 5:return e.p=5,N(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=h(p().m(function e(t){var n,a,r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(window.homaConsoleConfig.apiUrl,"/users/").concat(t),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 1:return n=e.v,e.n=2,n.json();case 2:(a=e.v).success&&s(a.data),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Failed to load user details:",r);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}(),k=function(e){return e>=80?"#2ecc71":e>=50?"#f39c12":"#e74c3c"},C=l.filter(function(e){var t,n,a;return(null===(t=e.display_name)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null===(a=e.user_identifier)||void 0===a?void 0:a.includes(f))});return r().createElement("div",{className:"user-intelligence",dir:"rtl"},r().createElement("div",{className:"controls-bar"},r().createElement("div",{className:"filter-buttons"},r().createElement("button",{className:"all"===m?"active":"",onClick:function(){return d("all")}},"Ù‡Ù…Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"),r().createElement("button",{className:"admins"===m?"active":"",onClick:function(){return d("admins")}},"Ù…Ø¯ÛŒØ±Ø§Ù†"),r().createElement("button",{className:"staff"===m?"active":"",onClick:function(){return d("staff")}},"Ú©Ø§Ø±Ù…Ù†Ø¯Ø§Ù†"),r().createElement("button",{className:"suspicious"===m?"active":"",onClick:function(){return d("suspicious")}},"âš ï¸ Ù…Ø´Ú©ÙˆÚ©")),r().createElement("input",{type:"text",className:"search-input",placeholder:"ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø§Ø±Ø¨Ø±...",value:f,onChange:function(e){return E(e.target.value)}})),r().createElement("div",{className:"user-intelligence-layout"},r().createElement("div",{className:"users-list-panel"},r().createElement("h3",null,"Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† (",C.length,")"),g?r().createElement("div",{className:"loading"},"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."):r().createElement("div",{className:"users-list"},C.map(function(e){var t;return r().createElement("div",{key:e.id||e.user_identifier,className:"user-card ".concat((null==i?void 0:i.id)===e.id?"selected":""),onClick:function(){return _(e.id||e.user_identifier)}},r().createElement("div",{className:"user-avatar"},(null===(t=e.display_name)||void 0===t?void 0:t[0])||"?"),r().createElement("div",{className:"user-info"},r().createElement("div",{className:"user-name"},e.display_name||"Ù†Ø§Ø´Ù†Ø§Ø³"),r().createElement("div",{className:"user-email"},e.email||e.user_identifier)),r().createElement("div",{className:"security-score",style:{background:k(e.security_score||100),color:"white"}},e.security_score||100))}))),r().createElement("div",{className:"user-detail-panel"},i?r().createElement(r().Fragment,null,r().createElement("div",{className:"detail-header"},r().createElement("div",{className:"user-avatar-large"},(null===(e=i.display_name)||void 0===e?void 0:e[0])||"?"),r().createElement("div",{className:"user-primary-info"},r().createElement("h2",null,i.display_name||"Ú©Ø§Ø±Ø¨Ø± Ù†Ø§Ø´Ù†Ø§Ø³"),r().createElement("p",null,i.email||i.user_identifier),r().createElement("div",{className:"user-roles"},null===(t=i.roles)||void 0===t?void 0:t.map(function(e){return r().createElement("span",{key:e,className:"role-badge"},e)}))),r().createElement("div",{className:"security-score-large",style:{background:k(i.security_score||100)}},r().createElement("div",{className:"score-value"},i.security_score||100),r().createElement("div",{className:"score-label"},"Ø§Ù…ØªÛŒØ§Ø² Ø§Ù…Ù†ÛŒØªÛŒ"))),r().createElement("div",{className:"user-stats"},r().createElement("div",{className:"stat-box"},r().createElement("div",{className:"stat-value"},i.conversation_count||0),r().createElement("div",{className:"stat-label"},"Ú¯ÙØªÚ¯ÙˆÙ‡Ø§")),r().createElement("div",{className:"stat-box"},r().createElement("div",{className:"stat-value"},i.lead_score||0),r().createElement("div",{className:"stat-label"},"Ø§Ù…ØªÛŒØ§Ø² Ù„ÛŒØ¯")),r().createElement("div",{className:"stat-box"},r().createElement("div",{className:"stat-value"},i.last_active||"Ù†Ø§Ù…Ø´Ø®Øµ"),r().createElement("div",{className:"stat-label"},"Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª"))),i.interests&&i.interests.length>0&&r().createElement("div",{className:"user-section"},r().createElement("h3",null,"ğŸ¯ Ø¹Ù„Ø§ÛŒÙ‚ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¯Ù‡"),r().createElement("div",{className:"interests-tags"},i.interests.map(function(e,t){return r().createElement("span",{key:t,className:"interest-tag"},e)}))),r().createElement("div",{className:"user-section"},r().createElement("h3",null,"ğŸ’¬ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ú¯ÙØªÚ¯ÙˆÙ‡Ø§"),i.conversations&&i.conversations.length>0?r().createElement("div",{className:"conversations-list"},i.conversations.map(function(e,t){return r().createElement("div",{key:t,className:"conversation-item"},r().createElement("div",{className:"conv-header"},r().createElement("span",{className:"conv-date"},e.date),r().createElement("span",{className:"conv-type"},e.type)),r().createElement("div",{className:"conv-preview"},e.preview))})):r().createElement("p",{className:"no-data"},"Ù‡ÛŒÚ† Ú¯ÙØªÚ¯ÙˆÛŒÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª")),i.security_events&&i.security_events.length>0&&r().createElement("div",{className:"user-section"},r().createElement("h3",null,"ğŸ›¡ï¸ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ"),r().createElement("div",{className:"security-events-list"},i.security_events.map(function(e,t){return r().createElement("div",{key:t,className:"security-event"},r().createElement("span",{className:"event-type"},e.type),r().createElement("span",{className:"event-penalty"},"-",e.penalty),r().createElement("span",{className:"event-date"},e.date))})))):r().createElement("div",{className:"no-selection"},r().createElement("p",null,"ğŸ‘ˆ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ Ø§Ø² Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯")))))};function w(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,a,r,l){var i=a&&a.prototype instanceof o?a:o,s=Object.create(i.prototype);return _(s,"_invoke",function(n,a,r){var l,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return l=t,o=0,i=e,d.n=n,c}};function v(n,a){for(o=n,i=a,t=0;!m&&s&&!r&&t<u.length;t++){var r,l=u[t],v=d.p,f=l[2];n>3?(r=f===a)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=v&&((r=n<2&&v<l[1])?(o=0,d.v=a,d.n=l[1]):v<f&&(r=n<3||l[0]>a||a>f)&&(l[4]=n,l[5]=a,d.n=f,o=0))}if(r||n>1)return c;throw m=!0,a}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&v(u,f),o=u,i=f;(t=o<2?e:i)||!m;){l||(o?o<3?(o>1&&(d.n=-1),v(o,i)):d.n=i:d.v=i);try{if(s=2,l){if(o||(r="next"),t=l[r]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((t=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(n,r,l),!0),s}var c={};function o(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(_(t={},a,function(){return this}),t),m=s.prototype=o.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,_(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=s,_(m,"constructor",s),_(s,"constructor",i),i.displayName="GeneratorFunction",_(s,r,"GeneratorFunction"),_(m),_(m,r,"Generator"),_(m,a,function(){return this}),_(m,"toString",function(){return"[object Generator]"}),(w=function(){return{w:l,m:d}})()}function _(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}_=function(e,t,n,a){function l(t,n){_(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},_(e,t,n,a)}function k(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(e){k(l,a,r,c,o,"next",e)}function o(e){k(l,a,r,c,o,"throw",e)}c(void 0)})}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,o=[],i=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const S=function(){var e,t,n=O((0,a.useState)(null),2),l=n[0],c=n[1],o=O((0,a.useState)(!0),2),i=o[0],s=o[1],u=O((0,a.useState)(!1),2),m=u[0],d=u[1],v=O((0,a.useState)(null),2),f=v[0],p=v[1];(0,a.useEffect)(function(){E();var e=setInterval(E,3e4);return function(){return clearInterval(e)}},[]);var E=function(){var e=C(w().m(function e(){var t,n,a;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return s(!0),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/diagnostics"),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 2:return t=e.v,e.n=3,t.json();case 3:(n=e.v).success&&c(n.data),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to run diagnostics:",a);case 5:return e.p=5,s(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=C(w().m(function e(){var t,n,a;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:return d(!0),p(null),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/diagnostics/fix"),{method:"POST",headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce,"Content-Type":"application/json"}});case 2:return t=e.v,e.n=3,t.json();case 3:(n=e.v).success&&(p(n.data),setTimeout(E,2e3)),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to run auto-fix:",a);case 5:return e.p=5,d(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),h=function(e){switch(e){case"healthy":return"âœ…";case"warning":return"âš ï¸";case"error":return"âŒ";default:return"â“"}},b=function(e){switch(e){case"healthy":return"#2ecc71";case"warning":return"#f39c12";case"error":return"#e74c3c";default:return"#95a5a6"}};if(i&&!l)return r().createElement("div",{className:"loading-container"},r().createElement("div",{className:"spinner"}),r().createElement("p",null,"Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ù„Ø§Ù…Øª..."));var g=l||{gapgpt_api:{status:"unknown"},tabesh_database:{status:"unknown"},index_status:{status:"unknown"},meli_payamak:{status:"unknown"},security:{status:"unknown"},issues:[]},N=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";return(null===(t=g.gapgpt_api)||void 0===t?void 0:t[e])||(null===(n=g.gemini_api)||void 0===n?void 0:n[e])||a},_=g.issues&&g.issues.length>0;return r().createElement("div",{className:"system-health",dir:"rtl"},r().createElement("div",{className:"action-bar"},r().createElement("button",{className:"refresh-btn",onClick:E,disabled:i},i?"ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...":"ğŸ”„ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¬Ø¯Ø¯"),_&&r().createElement("button",{className:"fix-all-btn",onClick:y,disabled:m},m?"âš™ï¸ Ø¯Ø± Ø­Ø§Ù„ Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª...":"ğŸ”§ Fix All - Ø±ÙØ¹ Ø®ÙˆØ¯Ú©Ø§Ø±")),f&&r().createElement("div",{className:"fix-results ".concat(f.success?"success":"error")},r().createElement("h4",null,f.success?"âœ… Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯":"âš ï¸ Ø¨Ø±Ø®ÛŒ Ù…Ø´Ú©Ù„Ø§Øª Ø±ÙØ¹ Ù†Ø´Ø¯Ù†Ø¯"),r().createElement("ul",null,null===(e=f.fixed)||void 0===e?void 0:e.map(function(e,t){return r().createElement("li",{key:t},"âœ“ ",e)}),null===(t=f.failed)||void 0===t?void 0:t.map(function(e,t){return r().createElement("li",{key:t},"âœ— ",e)}))),r().createElement("div",{className:"components-grid"},r().createElement("div",{className:"component-card"},r().createElement("div",{className:"card-header"},r().createElement("div",{className:"component-icon"},"ğŸ§ "),r().createElement("h3",null,"GapGPT API"),r().createElement("div",{className:"status-badge",style:{background:b(N("status"))}},h(N("status")))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"status-details"},r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„:"),r().createElement("span",{className:"value"},N("connection","Ù†Ø§Ù…Ø´Ø®Øµ"))),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø®:"),r().createElement("span",{className:"value"},N("response_time","N/A"))),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ù…Ø¯Ù„ ÙØ¹Ø§Ù„:"),r().createElement("span",{className:"value"},N("model","gemini-2.5-flash")))),N("message",null)&&r().createElement("div",{className:"status-message"},N("message")))),r().createElement("div",{className:"component-card"},r().createElement("div",{className:"card-header"},r().createElement("div",{className:"component-icon"},"ğŸ—„ï¸"),r().createElement("h3",null,"Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ØªØ§Ø¨Ø´"),r().createElement("div",{className:"status-badge",style:{background:b(g.tabesh_database.status)}},h(g.tabesh_database.status))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"status-details"},r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ø§ØªØµØ§Ù„:"),r().createElement("span",{className:"value"},g.tabesh_database.connected?"Ù…ØªØµÙ„":"Ù‚Ø·Ø¹")),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"ØªØ¹Ø¯Ø§Ø¯ ÙÚ©Øªâ€ŒÙ‡Ø§:"),r().createElement("span",{className:"value"},g.tabesh_database.facts_count||0)),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ø¢Ø®Ø±ÛŒÙ† Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ:"),r().createElement("span",{className:"value"},g.tabesh_database.last_sync||"Ù†Ø§Ù…Ø´Ø®Øµ"))))),r().createElement("div",{className:"component-card"},r().createElement("div",{className:"card-header"},r().createElement("div",{className:"component-icon"},"ğŸ“‘"),r().createElement("h3",null,"ÙˆØ¶Ø¹ÛŒØª Ø§ÛŒÙ†Ø¯Ú©Ø³"),r().createElement("div",{className:"status-badge",style:{background:b(g.index_status.status)}},h(g.index_status.status))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"status-details"},r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"ØµÙØ­Ø§Øª Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø´Ø¯Ù‡:"),r().createElement("span",{className:"value"},g.index_status.pages_indexed||0)),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø±ØµØ¯ Ø´Ø¯Ù‡:"),r().createElement("span",{className:"value"},g.index_status.plugins_monitored||0)),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ø§Ù…ØªÛŒØ§Ø² Ø³Ù„Ø§Ù…Øª:"),r().createElement("span",{className:"value"},g.index_status.health_score||0,"%"))))),r().createElement("div",{className:"component-card"},r().createElement("div",{className:"card-header"},r().createElement("div",{className:"component-icon"},"ğŸ“±"),r().createElement("h3",null,"Ù…Ù„ÛŒ Ù¾ÛŒØ§Ù…Ú©"),r().createElement("div",{className:"status-badge",style:{background:b(g.meli_payamak.status)}},h(g.meli_payamak.status))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"status-details"},r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"ÙˆØ¶Ø¹ÛŒØª API:"),r().createElement("span",{className:"value"},g.meli_payamak.api_status||"Ù†Ø§Ù…Ø´Ø®Øµ")),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"Ø§Ø¹ØªØ¨Ø§Ø± Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡:"),r().createElement("span",{className:"value"},g.meli_payamak.credit||"Ù†Ø§Ù…Ø´Ø®Øµ"))))),r().createElement("div",{className:"component-card"},r().createElement("div",{className:"card-header"},r().createElement("div",{className:"component-icon"},"ğŸ›¡ï¸"),r().createElement("h3",null,"Ø§Ù…Ù†ÛŒØª Ø³ÛŒØ³ØªÙ…"),r().createElement("div",{className:"status-badge",style:{background:b(g.security.status)}},h(g.security.status))),r().createElement("div",{className:"card-body"},r().createElement("div",{className:"status-details"},r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"ØªÙ‡Ø¯ÛŒØ¯Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„:"),r().createElement("span",{className:"value"},g.security.active_threats||0)),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"IPâ€ŒÙ‡Ø§ÛŒ Ù…Ø³Ø¯ÙˆØ¯:"),r().createElement("span",{className:"value"},g.security.blocked_ips||0)),r().createElement("div",{className:"detail-row"},r().createElement("span",{className:"label"},"ÙØ§ÛŒØ±ÙˆØ§Ù„:"),r().createElement("span",{className:"value"},g.security.waf_enabled?"ÙØ¹Ø§Ù„":"ØºÛŒØ±ÙØ¹Ø§Ù„")))))),_&&r().createElement("div",{className:"issues-section"},r().createElement("h3",null,"âš ï¸ Ù…Ø´Ú©Ù„Ø§Øª Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯Ù‡"),r().createElement("div",{className:"issues-list"},g.issues.map(function(e,t){return r().createElement("div",{key:t,className:"issue-card ".concat(e.severity)},r().createElement("div",{className:"issue-header"},r().createElement("span",{className:"issue-severity"},"critical"===e.severity?"ğŸ”´":"warning"===e.severity?"ğŸŸ¡":"ğŸŸ¢"),r().createElement("span",{className:"issue-title"},e.title)),r().createElement("div",{className:"issue-description"},e.description),e.fix_available&&r().createElement("div",{className:"issue-fix"},"âœ“ Ø±ÙØ¹ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª"))}))),g.recommendations&&g.recommendations.length>0&&r().createElement("div",{className:"recommendations-section"},r().createElement("h3",null,"ğŸ’¡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ"),r().createElement("ul",{className:"recommendations-list"},g.recommendations.map(function(e,t){return r().createElement("li",{key:t},e)}))))};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){return(t=function(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,a,r,l){var i=a&&a.prototype instanceof o?a:o,s=Object.create(i.prototype);return I(s,"_invoke",function(n,a,r){var l,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return l=t,o=0,i=e,d.n=n,c}};function v(n,a){for(o=n,i=a,t=0;!m&&s&&!r&&t<u.length;t++){var r,l=u[t],v=d.p,f=l[2];n>3?(r=f===a)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=v&&((r=n<2&&v<l[1])?(o=0,d.v=a,d.n=l[1]):v<f&&(r=n<3||l[0]>a||a>f)&&(l[4]=n,l[5]=a,d.n=f,o=0))}if(r||n>1)return c;throw m=!0,a}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&v(u,f),o=u,i=f;(t=o<2?e:i)||!m;){l||(o?o<3?(o>1&&(d.n=-1),v(o,i)):d.n=i:d.v=i);try{if(s=2,l){if(o||(r="next"),t=l[r]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((t=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(n,r,l),!0),s}var c={};function o(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(I(t={},a,function(){return this}),t),m=s.prototype=o.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,I(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=s,I(m,"constructor",s),I(s,"constructor",i),i.displayName="GeneratorFunction",I(s,r,"GeneratorFunction"),I(m),I(m,r,"Generator"),I(m,a,function(){return this}),I(m,"toString",function(){return"[object Generator]"}),(G=function(){return{w:l,m:d}})()}function I(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}I=function(e,t,n,a){function l(t,n){I(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},I(e,t,n,a)}function F(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function M(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(e){F(l,a,r,c,o,"next",e)}function o(e){F(l,a,r,c,o,"throw",e)}c(void 0)})}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,o=[],i=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const R=function(){var e,t=U((0,a.useState)(null),2),n=t[0],l=t[1],c=U((0,a.useState)([]),2),o=c[0],i=c[1],s=U((0,a.useState)(null),2),u=s[0],m=s[1],d=U((0,a.useState)(!1),2),v=d[0],f=d[1],p=U((0,a.useState)("all"),2),E=p[0],y=p[1],h=U((0,a.useState)(""),2),b=h[0],g=h[1],N=U((0,a.useState)(!0),2),w=N[0],_=N[1],k=(0,a.useCallback)(M(G().m(function e(){var t,n,a;return G().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(window.homaConsoleConfig.apiUrl,"/knowledge/stats"),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 1:return t=e.v,e.n=2,t.json();case 2:(n=e.v).success&&l(n.data),e.n=4;break;case 3:e.p=3,a=e.v,console.error("Failed to load knowledge stats:",a);case 4:return e.a(2)}},e,null,[[0,3]])})),[]),C=(0,a.useCallback)(M(G().m(function e(){var t,n,a;return G().w(function(e){for(;;)switch(e.p=e.n){case 0:return _(!0),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/knowledge/facts?filter=").concat(E,"&search=").concat(b),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 2:return t=e.v,e.n=3,t.json();case 3:(n=e.v).success&&i(n.data),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to load facts:",a);case 5:return e.p=5,_(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),[E,b]);(0,a.useEffect)(function(){k(),C()},[k,C]);var O=(0,a.useCallback)(function(e){m(T({},e)),f(!0)},[]),j=(0,a.useCallback)(M(G().m(function e(){var t,n;return G().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(window.homaConsoleConfig.apiUrl,"/knowledge/facts/").concat(u.id),{method:"PUT",headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce,"Content-Type":"application/json"},body:JSON.stringify(u)});case 1:return t=e.v,e.n=2,t.json();case 2:e.v.success&&(alert("âœ… ÙÚ©Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ÙˆÛŒØ±Ø§ÛŒØ´ Ø´Ø¯"),f(!1),C(),k()),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to save fact:",n),alert("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ ÙÚ©Øª");case 4:return e.a(2)}},e,null,[[0,3]])})),[u,C,k]),S=(0,a.useCallback)(function(){var e=M(G().m(function e(t){var n,a;return G().w(function(e){for(;;)switch(e.p=e.n){case 0:if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ÙÚ©Øª Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/knowledge/facts/").concat(t),{method:"DELETE",headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 2:return n=e.v,e.n=3,n.json();case 3:e.v.success&&(alert("âœ… ÙÚ©Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯"),C(),k()),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to delete fact:",a),alert("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ÙÚ©Øª");case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),[C,k]),P=(0,a.useCallback)(function(){var e=M(G().m(function e(t,n){var a,r;return G().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(window.homaConsoleConfig.apiUrl,"/knowledge/facts/").concat(t,"/verify"),{method:"POST",headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce,"Content-Type":"application/json"},body:JSON.stringify({verified:n})});case 1:return a=e.v,e.n=2,a.json();case 2:e.v.success&&C(),e.n=4;break;case 3:e.p=3,r=e.v,console.error("Failed to verify fact:",r);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t,n){return e.apply(this,arguments)}}(),[C]),x=n||{total_facts:0,by_category:{},growth_trend:[],pages_indexed:0,plugins_monitored:0};return r().createElement("div",{className:"brain-growth",dir:"rtl"},r().createElement("div",{className:"stats-overview"},r().createElement("div",{className:"stat-card"},r().createElement("div",{className:"stat-icon"},"ğŸ“š"),r().createElement("div",{className:"stat-content"},r().createElement("div",{className:"stat-value"},x.total_facts),r().createElement("div",{className:"stat-label"},"Ú©Ù„ ÙÚ©Øªâ€ŒÙ‡Ø§"))),r().createElement("div",{className:"stat-card"},r().createElement("div",{className:"stat-icon"},"ğŸ“„"),r().createElement("div",{className:"stat-content"},r().createElement("div",{className:"stat-value"},x.pages_indexed),r().createElement("div",{className:"stat-label"},"ØµÙØ­Ø§Øª Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø´Ø¯Ù‡"))),r().createElement("div",{className:"stat-card"},r().createElement("div",{className:"stat-icon"},"ğŸ”Œ"),r().createElement("div",{className:"stat-content"},r().createElement("div",{className:"stat-value"},x.plugins_monitored),r().createElement("div",{className:"stat-label"},"Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø±ØµØ¯ Ø´Ø¯Ù‡"))),r().createElement("div",{className:"stat-card"},r().createElement("div",{className:"stat-icon"},"ğŸ“ˆ"),r().createElement("div",{className:"stat-content"},r().createElement("div",{className:"stat-value"},x.pending_verification||0),r().createElement("div",{className:"stat-label"},"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯")))),Object.keys(x.by_category||{}).length>0&&r().createElement("div",{className:"category-breakdown"},r().createElement("h3",null,"ğŸ“Š ØªÙˆØ²ÛŒØ¹ Ø¯Ø§Ù†Ø´ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"),r().createElement("div",{className:"category-grid"},Object.entries(x.by_category).map(function(e){var t=U(e,2),n=t[0],a=t[1];return r().createElement("div",{key:n,className:"category-item"},r().createElement("div",{className:"category-name"},n),r().createElement("div",{className:"category-bar"},r().createElement("div",{className:"category-fill",style:{width:"".concat(a/x.total_facts*100,"%")}})),r().createElement("div",{className:"category-count"},a))}))),r().createElement("div",{className:"fine-tuner-section"},r().createElement("h2",null,"ğŸ¯ ÙˆÛŒØ±Ø§ÛŒØ´Ú¯Ø± Ø¯Ø§Ù†Ø´ (Knowledge Fine-Tuner)"),r().createElement("div",{className:"controls-bar"},r().createElement("div",{className:"filter-buttons"},r().createElement("button",{className:"all"===E?"active":"",onClick:function(){return y("all")}},"Ù‡Ù…Ù‡"),r().createElement("button",{className:"pending"===E?"active":"",onClick:function(){return y("pending")}},"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯"),r().createElement("button",{className:"verified"===E?"active":"",onClick:function(){return y("verified")}},"ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡")),r().createElement("input",{type:"text",className:"search-input",placeholder:"ğŸ” Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ÙÚ©Øªâ€ŒÙ‡Ø§...",value:b,onChange:function(e){return g(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&C()}}),r().createElement("button",{className:"search-btn",onClick:C},"Ø¬Ø³ØªØ¬Ùˆ")),r().createElement("div",{className:"facts-list"},w?r().createElement("div",{className:"loading"},"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."):0===o.length?r().createElement("div",{className:"no-data"},"Ù‡ÛŒÚ† ÙÚ©ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"):o.map(function(e){return r().createElement("div",{key:e.id,className:"fact-card"},r().createElement("div",{className:"fact-header"},r().createElement("div",{className:"fact-category"},e.category||"Ø¹Ù…ÙˆÙ…ÛŒ"),r().createElement("div",{className:"fact-status"},e.verified?r().createElement("span",{className:"verified"},"âœ“ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡"):r().createElement("span",{className:"pending"},"â³ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯"))),r().createElement("div",{className:"fact-content"},e.fact),e.source&&r().createElement("div",{className:"fact-source"},r().createElement("strong",null,"Ù…Ù†Ø¨Ø¹:")," ",e.source),e.tags&&e.tags.length>0&&r().createElement("div",{className:"fact-tags"},e.tags.map(function(e,t){return r().createElement("span",{key:t,className:"tag"},e)})),r().createElement("div",{className:"fact-actions"},r().createElement("button",{className:"btn-edit",onClick:function(){return O(e)}},"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´"),!e.verified&&r().createElement("button",{className:"btn-verify",onClick:function(){return P(e.id,!0)}},"âœ“ ØªØ§ÛŒÛŒØ¯"),r().createElement("button",{className:"btn-delete",onClick:function(){return S(e.id)}},"ğŸ—‘ï¸ Ø­Ø°Ù")))}))),v&&u&&r().createElement("div",{className:"modal-overlay",onClick:function(){return f(!1)}},r().createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},r().createElement("h3",null,"âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ ÙÚ©Øª"),r().createElement("div",{className:"form-group"},r().createElement("label",null,"Ù…ØªÙ† ÙÚ©Øª:"),r().createElement("textarea",{value:u.fact,onChange:function(e){return m(T(T({},u),{},{fact:e.target.value}))},rows:4})),r().createElement("div",{className:"form-group"},r().createElement("label",null,"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:"),r().createElement("select",{value:u.category,onChange:function(e){return m(T(T({},u),{},{category:e.target.value}))}},r().createElement("option",{value:"Ø¹Ù…ÙˆÙ…ÛŒ"},"Ø¹Ù…ÙˆÙ…ÛŒ"),r().createElement("option",{value:"Ù…Ø­ØµÙˆÙ„Ø§Øª"},"Ù…Ø­ØµÙˆÙ„Ø§Øª"),r().createElement("option",{value:"Ø®Ø¯Ù…Ø§Øª"},"Ø®Ø¯Ù…Ø§Øª"),r().createElement("option",{value:"Ø§Ù…Ù†ÛŒØª"},"Ø§Ù…Ù†ÛŒØª"),r().createElement("option",{value:"Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„"},"Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„"),r().createElement("option",{value:"Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ"},"Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ"))),r().createElement("div",{className:"form-group"},r().createElement("label",null,"Ù…Ù†Ø¨Ø¹:"),r().createElement("input",{type:"text",value:u.source||"",onChange:function(e){return m(T(T({},u),{},{source:e.target.value}))}})),r().createElement("div",{className:"form-group"},r().createElement("label",null,"Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ (Ø¨Ø§ Ú©Ø§Ù…Ø§ Ø¬Ø¯Ø§ Ú©Ù†ÛŒØ¯):"),r().createElement("input",{type:"text",value:(null===(e=u.tags)||void 0===e?void 0:e.join(", "))||"",onChange:function(e){return m(T(T({},u),{},{tags:e.target.value.split(",").map(function(e){return e.trim()})}))}})),r().createElement("div",{className:"modal-actions"},r().createElement("button",{className:"btn-save",onClick:j},"ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡"),r().createElement("button",{className:"btn-cancel",onClick:function(){return f(!1)}},"âœ–ï¸ Ø§Ù†ØµØ±Ø§Ù")))))};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t,n){return(t=function(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,a,r,l){var i=a&&a.prototype instanceof o?a:o,s=Object.create(i.prototype);return H(s,"_invoke",function(n,a,r){var l,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return l=t,o=0,i=e,d.n=n,c}};function v(n,a){for(o=n,i=a,t=0;!m&&s&&!r&&t<u.length;t++){var r,l=u[t],v=d.p,f=l[2];n>3?(r=f===a)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=v&&((r=n<2&&v<l[1])?(o=0,d.v=a,d.n=l[1]):v<f&&(r=n<3||l[0]>a||a>f)&&(l[4]=n,l[5]=a,d.n=f,o=0))}if(r||n>1)return c;throw m=!0,a}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&v(u,f),o=u,i=f;(t=o<2?e:i)||!m;){l||(o?o<3?(o>1&&(d.n=-1),v(o,i)):d.n=i:d.v=i);try{if(s=2,l){if(o||(r="next"),t=l[r]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((t=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(n,r,l),!0),s}var c={};function o(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(H(t={},a,function(){return this}),t),m=s.prototype=o.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,H(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=s,H(m,"constructor",s),H(s,"constructor",i),i.displayName="GeneratorFunction",H(s,r,"GeneratorFunction"),H(m),H(m,r,"Generator"),H(m,a,function(){return this}),H(m,"toString",function(){return"[object Generator]"}),($=function(){return{w:l,m:d}})()}function H(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}H=function(e,t,n,a){function l(t,n){H(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},H(e,t,n,a)}function B(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function J(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(e){B(l,a,r,c,o,"next",e)}function o(e){B(l,a,r,c,o,"throw",e)}c(void 0)})}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,o=[],i=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const V=function(){var e,t,n,l,c,o,i,s,u,m,d,v,f,p=K((0,a.useState)("core"),2),E=p[0],y=p[1],h=K((0,a.useState)(null),2),b=h[0],g=h[1],N=K((0,a.useState)(!1),2),w=N[0],_=N[1],k=K((0,a.useState)(!1),2),C=k[0],O=k[1],j=K((0,a.useState)(!0),2),S=j[0],P=j[1],x=K((0,a.useState)(null),2),T=x[0],A=x[1];(0,a.useEffect)(function(){G()},[]),(0,a.useEffect)(function(){if(T){var e=setTimeout(function(){return A(null)},3e3);return function(){return clearTimeout(e)}}},[T]);var G=function(){var e=J($().m(function e(){var t,n,a;return $().w(function(e){for(;;)switch(e.p=e.n){case 0:return P(!0),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/settings"),{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 2:return t=e.v,e.n=3,t.json();case 3:(n=e.v).success&&g(n.data),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to load settings:",a);case 5:return e.p=5,P(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=J($().m(function e(){var t,n;return $().w(function(e){for(;;)switch(e.p=e.n){case 0:return O(!0),e.p=1,e.n=2,fetch("".concat(window.homaConsoleConfig.apiUrl,"/settings"),{method:"POST",headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce,"Content-Type":"application/json"},body:JSON.stringify(b)});case 2:return t=e.v,e.n=3,t.json();case 3:e.v.success?(A({type:"success",message:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯"}),_(!1)):A({type:"error",message:"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª"}),e.n=5;break;case 4:e.p=4,n=e.v,console.error("Failed to save settings:",n),A({type:"error",message:"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª"});case 5:return e.p=5,O(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),F=function(e,t,n){g(function(a){return X(X({},a),{},z({},e,X(X({},a[e]),{},z({},t,n))))}),_(!0)};if(S)return r().createElement("div",{className:"loading-container"},r().createElement("div",{className:"spinner"}),r().createElement("p",null,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª..."));var M=b||{core:{},visual:{},database:{},modules:{},enabled_modules:[],otp:{},localization:{},firewall:{},messages:{},security:{}};return r().createElement("div",{className:"super-settings",dir:"rtl"},T&&r().createElement("div",{className:"notification-banner ".concat(T.type)},r().createElement("span",null,"success"===T.type?"âœ…":"âŒ"," ",T.message)),w&&r().createElement("div",{className:"save-banner"},r().createElement("span",null,"âš ï¸ ØªØºÛŒÛŒØ±Ø§ØªÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù†Ø´Ø¯Ù‡ Ø¯Ø§Ø±ÛŒØ¯"),r().createElement("button",{onClick:I,disabled:C},C?"Ø¯Ø± Ø­Ø§Ù„ Ø°Ø®ÛŒØ±Ù‡...":"ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª")),r().createElement("div",{className:"settings-layout"},r().createElement("div",{className:"sections-nav"},[{id:"core",name:"ğŸ§  Ù‡Ø³ØªÙ‡ (Core)",description:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø¯Ù„ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ùˆ GapGPT API"},{id:"visual",name:"ğŸ¨ Ø¨ØµØ±ÛŒ Ùˆ ØªØ¹Ø§Ù…Ù„ÛŒ",description:"Ø¸Ø§Ù‡Ø± Ú†Øª Ùˆ Ø±ÙØªØ§Ø± ØªØ¹Ø§Ù…Ù„ÛŒ"},{id:"database",name:"ğŸ—„ï¸ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ùˆ Ø§ÛŒÙ†Ø¯Ú©Ø³",description:"Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ ØªØ§Ø¨Ø´ Ùˆ Ø§ÛŒÙ†Ø¯Ú©Ø³Ú¯Ø°Ø§Ø±ÛŒ"},{id:"modules",name:"ğŸ”Œ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ",description:"ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ø³Ø§Ø²ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ (Legacy)"},{id:"enabled_modules",name:"ğŸ“¦ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù„",description:"Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ…Ø§Ù… Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§"},{id:"otp",name:"ğŸ“² Ù¾Ù†Ù„ Ù…Ù„ÛŒ OTP",description:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª MeliPayamak Ùˆ Ú©Ø¯ ÛŒÚ©Ø¨Ø§Ø± Ù…ØµØ±Ù"},{id:"localization",name:"ğŸŒ Ø¨ÙˆÙ…ÛŒâ€ŒØ³Ø§Ø²ÛŒ",description:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø²Ø¨Ø§Ù† Ùˆ ØªØ±Ø¬Ù…Ù‡"},{id:"firewall",name:"ğŸ”¥ ÙØ§ÛŒØ±ÙˆØ§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡",description:"WAF Ùˆ Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ IP"},{id:"messages",name:"ğŸ’¬ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§",description:"Ø´Ø®ØµÛŒâ€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§"},{id:"security",name:"ğŸ›¡ï¸ Ø§Ù…Ù†ÛŒØª Ø¹Ù…ÙˆÙ…ÛŒ",description:"Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ùˆ Ø§Ù…Ù†ÛŒØª Ú©Ù„ÛŒ"}].map(function(e){return r().createElement("button",{key:e.id,className:"section-btn ".concat(E===e.id?"active":""),onClick:function(){return y(e.id)}},r().createElement("div",{className:"section-name"},e.name),r().createElement("div",{className:"section-desc"},e.description))})),r().createElement("div",{className:"settings-content"},"core"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ§  ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‡Ø³ØªÙ‡ (Core Configuration)"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"GapGPT API"),r().createElement("div",{className:"notice-box info"},r().createElement("p",null,r().createElement("strong",null,"GapGPT")," - Ø¯Ø±ÙˆØ§Ø²Ù‡ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø¨Ù‡ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ",r().createElement("br",null),r().createElement("small",null,"Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÙˆØ¹ Ø§Ø² OpenAIØŒ Google GeminiØŒ Anthropic ClaudeØŒ DeepSeekØŒ XAI Ùˆ Ø¨ÛŒØ´ØªØ±"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù…Ø¯Ù„ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ:"),r().createElement("select",{value:M.core.model||"gemini-2.5-flash",onChange:function(e){return F("core","model",e.target.value)}},r().createElement("optgroup",{label:"Google Gemini"},r().createElement("option",{value:"gemini-2.5-flash"},"Gemini 2.5 Flash (ØªÙˆØµÛŒÙ‡ Ø´Ø¯Ù‡)"),r().createElement("option",{value:"gemini-2.5-pro"},"Gemini 2.5 Pro"),r().createElement("option",{value:"gemini-2.0-flash"},"Gemini 2.0 Flash"),r().createElement("option",{value:"gemini-3-pro-preview"},"Gemini 3 Pro Preview")),r().createElement("optgroup",{label:"OpenAI"},r().createElement("option",{value:"gpt-4o"},"GPT-4o"),r().createElement("option",{value:"gpt-4o-mini"},"GPT-4o Mini"),r().createElement("option",{value:"o1"},"O1"),r().createElement("option",{value:"o1-mini"},"O1 Mini"),r().createElement("option",{value:"gpt-5"},"GPT-5")),r().createElement("optgroup",{label:"Anthropic Claude"},r().createElement("option",{value:"claude-opus-4-5-20251101"},"Claude Opus 4.5")),r().createElement("optgroup",{label:"DeepSeek"},r().createElement("option",{value:"deepseek-chat"},"DeepSeek Chat"),r().createElement("option",{value:"deepseek-reasoner"},"DeepSeek Reasoner")),r().createElement("optgroup",{label:"XAI"},r().createElement("option",{value:"grok-3"},"Grok 3"),r().createElement("option",{value:"grok-3-mini"},"Grok 3 Mini"))),r().createElement("small",{className:"description"},"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯Ù„ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³Ø±Ø¹Øª ÛŒØ§ Ø¯Ù‚Øª.",r().createElement("a",{href:"https://gapgpt.app/models",target:"_blank"},"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ â†’"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù…Ø­Ø¯ÙˆØ¯ÛŒØª ØªÙˆÚ©Ù† Ø¯Ø± Ù‡Ø± Ø±ÛŒÚ©ÙˆØ¦Ø³Øª:"),r().createElement("input",{type:"number",value:M.core.max_tokens||2048,onChange:function(e){return F("core","max_tokens",parseInt(e.target.value))},min:"512",max:"8192"})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Temperature (Ø®Ù„Ø§Ù‚ÛŒØª):"),r().createElement("input",{type:"range",min:"0",max:"2",step:"0.1",value:M.core.temperature||.7,onChange:function(e){return F("core","temperature",parseFloat(e.target.value))}}),r().createElement("span",{className:"range-value"},M.core.temperature||.7)))),"visual"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ¨ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨ØµØ±ÛŒ Ùˆ ØªØ¹Ø§Ù…Ù„ÛŒ"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"Ø¸Ø§Ù‡Ø± Ú†Øª"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ:"),r().createElement("input",{type:"color",value:M.visual.primary_color||"#667eea",onChange:function(e){return F("visual","primary_color",e.target.value)}})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø¢ÛŒÚ©ÙˆÙ† Ú†Øª:"),r().createElement("select",{value:M.visual.chat_icon||"default",onChange:function(e){return F("visual","chat_icon",e.target.value)}},r().createElement("option",{value:"default"},"Ù¾ÛŒØ´â€ŒÙØ±Ø¶"),r().createElement("option",{value:"robot"},"Ø±Ø¨Ø§Øª"),r().createElement("option",{value:"avatar"},"Ø¢ÙˆØ§ØªØ§Ø±"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø³Ø±Ø¹Øª Ø§Ø³Ú©Ø±ÙˆÙ„ Ø®ÙˆØ¯Ú©Ø§Ø±:"),r().createElement("input",{type:"range",min:"0",max:"1000",step:"100",value:M.visual.scroll_speed||300,onChange:function(e){return F("visual","scroll_speed",parseInt(e.target.value))}}),r().createElement("span",{className:"range-value"},M.visual.scroll_speed||300,"ms")),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø´Ø¯Øª Ù‡Ø§ÛŒÙ„Ø§ÛŒØª:"),r().createElement("input",{type:"range",min:"0",max:"100",step:"10",value:M.visual.highlight_intensity||50,onChange:function(e){return F("visual","highlight_intensity",parseInt(e.target.value))}}),r().createElement("span",{className:"range-value"},M.visual.highlight_intensity||50,"%")))),"database"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ—„ï¸ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ùˆ Ø§ÛŒÙ†Ø¯Ú©Ø³"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"Ù…Ø®Ø²Ù† ØªØ§Ø¨Ø´"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø¬Ø¯Ø§ÙˆÙ„ Ù‡Ø¯Ù (Ø¨Ø§ Ú©Ø§Ù…Ø§ Ø¬Ø¯Ø§ Ú©Ù†ÛŒØ¯):"),r().createElement("input",{type:"text",value:(M.database.target_tables||[]).join(", "),onChange:function(e){return F("database","target_tables",e.target.value.split(",").map(function(e){return e.trim()}))},placeholder:"posts, products, pages"})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"ÙÙˆØ§ØµÙ„ Ø²Ù…Ø§Ù†ÛŒ Ø§Ø³Ú©Ù† Ø®ÙˆØ¯Ú©Ø§Ø± (Ø¯Ù‚ÛŒÙ‚Ù‡):"),r().createElement("input",{type:"number",value:M.database.scan_interval||60,onChange:function(e){return F("database","scan_interval",parseInt(e.target.value))},min:"10",max:"1440"})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ÛŒ Ø­Ø°Ù Ø´Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³:"),r().createElement("input",{type:"text",value:(M.database.excluded_categories||[]).join(", "),onChange:function(e){return F("database","excluded_categories",e.target.value.split(",").map(function(e){return e.trim()}))},placeholder:"draft, private"})))),"modules"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ”Œ Ù…Ø§Ú˜ÙˆÙ„Ø§Ø± Ø³Ø§Ø²ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§"),r().createElement("div",{className:"modules-grid"},r().createElement("div",{className:"module-card"},r().createElement("h3",null,"ğŸ›¡ï¸ ÙØ§ÛŒØ±ÙˆØ§Ù„ (WAF)"),r().createElement("label",{className:"toggle-switch"},r().createElement("input",{type:"checkbox",checked:M.modules.waf_enabled||!1,onChange:function(e){return F("modules","waf_enabled",e.target.checked)}}),r().createElement("span",{className:"slider"}))),r().createElement("div",{className:"module-card"},r().createElement("h3",null,"ğŸ” Ø³ÛŒØ³ØªÙ… OTP"),r().createElement("label",{className:"toggle-switch"},r().createElement("input",{type:"checkbox",checked:M.modules.otp_enabled||!1,onChange:function(e){return F("modules","otp_enabled",e.target.checked)}}),r().createElement("span",{className:"slider"}))),r().createElement("div",{className:"module-card"},r().createElement("h3",null,"ğŸŒ ØªØ±Ø¬Ù…Ù‡ Ø¹Ø±Ø¨ÛŒ"),r().createElement("label",{className:"toggle-switch"},r().createElement("input",{type:"checkbox",checked:M.modules.arabic_translation||!1,onChange:function(e){return F("modules","arabic_translation",e.target.checked)}}),r().createElement("span",{className:"slider"}))),r().createElement("div",{className:"module-card"},r().createElement("h3",null,"ğŸ“¦ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø³ÙØ§Ø±Ø´"),r().createElement("label",{className:"toggle-switch"},r().createElement("input",{type:"checkbox",checked:M.modules.order_tracking||!1,onChange:function(e){return F("modules","order_tracking",e.target.checked)}}),r().createElement("span",{className:"slider"}))))),"messages"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ’¬ Ø¨ÙˆÙ…ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ùˆ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø®ÙˆØ´Ø¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ù„ÛŒØ¯Ù‡Ø§:"),r().createElement("textarea",{value:M.messages.welcome_lead||"",onChange:function(e){return F("messages","welcome_lead",e.target.value)},rows:3,placeholder:"Ø³Ù„Ø§Ù…! Ø¨Ù‡ Ù‡Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯..."})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù‡Ø´Ø¯Ø§Ø± ÙØ§ÛŒØ±ÙˆØ§Ù„:"),r().createElement("textarea",{value:M.messages.firewall_warning||"",onChange:function(e){return F("messages","firewall_warning",e.target.value)},rows:2,placeholder:"Ø¯Ø³ØªØ±Ø³ÛŒ Ø´Ù…Ø§ Ù…Ø­Ø¯ÙˆØ¯ Ø´Ø¯Ù‡ Ø§Ø³Øª..."})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù…ØªÙ† Ù¾ÛŒØ§Ù…Ú© OTP:"),r().createElement("textarea",{value:M.messages.otp_sms||"",onChange:function(e){return F("messages","otp_sms",e.target.value)},rows:2,placeholder:"Ú©Ø¯ ØªØ§ÛŒÛŒØ¯ Ø´Ù…Ø§: {code}"})))),"enabled_modules"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ“¦ Ù…Ø§Ú˜ÙˆÙ„Ø§Ø± Ø³Ø§Ø²ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§"),r().createElement("p",{className:"description"},"ÙØ¹Ø§Ù„ ÛŒØ§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø³ÛŒØ³ØªÙ…"),r().createElement("div",{className:"setting-group"},[{id:"chat_widget",name:"ÙˆÛŒØ¬Øª Ú†Øª",icon:"ğŸ’¬"},{id:"behavior_tracking",name:"Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ø±ÙØªØ§Ø±",icon:"ğŸ‘ï¸"},{id:"persona_engine",name:"Ù…ÙˆØªÙˆØ± Ù¾Ø±Ø³ÙˆÙ†Ø§",icon:"ğŸ­"},{id:"knowledge_base",name:"Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´",icon:"ğŸ“š"},{id:"security_center",name:"Ù…Ø±Ú©Ø² Ø§Ù…Ù†ÛŒØª",icon:"ğŸ›¡ï¸"},{id:"atlas_dashboard",name:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§Ø·Ù„Ø³",icon:"ğŸ—ºï¸"},{id:"global_observer",name:"Ù†Ø§Ø¸Ø± Ú©Ù„",icon:"ğŸ”"},{id:"live_intervention",name:"Ù…Ø¯Ø§Ø®Ù„Ù‡ Ø²Ù†Ø¯Ù‡",icon:"ğŸ¯"},{id:"conversion_triggers",name:"Ù…Ø­Ø±Ú©â€ŒÙ‡Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„",icon:"âš¡"},{id:"form_hydration",name:"Ù¾Ø± Ú©Ø±Ø¯Ù† ÙØ±Ù…",icon:"ğŸ“"},{id:"offer_display",name:"Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª",icon:"ğŸ’"},{id:"visual_guidance",name:"Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨ØµØ±ÛŒ",icon:"ğŸ¯"},{id:"tour_manager",name:"Ù…Ø¯ÛŒØ±ÛŒØª ØªÙˆØ±",icon:"ğŸš¶"}].map(function(e){var t=M.enabled_modules||[],n=t.includes(e.id);return r().createElement("div",{key:e.id,className:"setting-item checkbox-item"},r().createElement("label",null,r().createElement("input",{type:"checkbox",checked:n,onChange:function(n){var a,r=n.target.checked?[].concat(function(e){if(Array.isArray(e))return Q(e)}(a=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||q(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.id]):t.filter(function(t){return t!==e.id});g(function(e){return X(X({},e),{},{enabled_modules:r})}),_(!0)}}),r().createElement("span",{className:"module-label"},r().createElement("span",{className:"module-icon"},e.icon),r().createElement("span",{className:"module-name"},e.name))))}))),"otp"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ“² ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ù†Ù„ Ù…Ù„ÛŒ Ù¾ÛŒØ§Ù…Ú© OTP"),r().createElement("p",{className:"description"},"Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ MeliPayamak Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ú©Ø¯ ÛŒÚ©Ø¨Ø§Ø± Ù…ØµØ±Ù"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ MeliPayamak"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:"),r().createElement("input",{type:"text",value:(null===(e=M.otp)||void 0===e?void 0:e.melipayamak_username)||"",onChange:function(e){return F("otp","melipayamak_username",e.target.value)},placeholder:"username@melipayamak.com"})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±:"),r().createElement("input",{type:"password",value:(null===(t=M.otp)||void 0===t?void 0:t.melipayamak_password)||"",onChange:function(e){return F("otp","melipayamak_password",e.target.value)},placeholder:"********"})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø´Ù…Ø§Ø±Ù‡ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯Ù‡:"),r().createElement("input",{type:"text",value:(null===(n=M.otp)||void 0===n?void 0:n.melipayamak_from_number)||"",onChange:function(e){return F("otp","melipayamak_from_number",e.target.value)},placeholder:"50002710xxx"}))),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"ØªÙ†Ø¸ÛŒÙ…Ø§Øª OTP"),r().createElement("div",{className:"setting-item checkbox-item"},r().createElement("label",null,r().createElement("input",{type:"checkbox",checked:(null===(l=M.otp)||void 0===l?void 0:l.otp_enabled)||!1,onChange:function(e){return F("otp","otp_enabled",e.target.checked)}}),r().createElement("span",null,"ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ OTP"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù…Ø¯Øª Ø§Ø¹ØªØ¨Ø§Ø± Ú©Ø¯ (Ø¯Ù‚ÛŒÙ‚Ù‡):"),r().createElement("input",{type:"number",value:(null===(c=M.otp)||void 0===c?void 0:c.otp_expiry_minutes)||5,onChange:function(e){return F("otp","otp_expiry_minutes",parseInt(e.target.value))},min:"1",max:"30"})))),"localization"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸŒ Ø¨ÙˆÙ…ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ùˆ Ø²Ø¨Ø§Ù†"),r().createElement("div",{className:"setting-group"},r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø²Ø¨Ø§Ù† Ù¾ÛŒØ´â€ŒÙØ±Ø¶:"),r().createElement("select",{value:(null===(o=M.localization)||void 0===o?void 0:o.locale)||"fa_IR",onChange:function(e){return F("localization","locale",e.target.value)}},r().createElement("option",{value:"fa_IR"},"ÙØ§Ø±Ø³ÛŒ (Farsi)"),r().createElement("option",{value:"ar"},"Ø¹Ø±Ø¨ÛŒ (Arabic)"),r().createElement("option",{value:"en_US"},"Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ (English)"))),r().createElement("div",{className:"setting-item checkbox-item"},r().createElement("label",null,r().createElement("input",{type:"checkbox",checked:!1!==(null===(i=M.localization)||void 0===i?void 0:i.rtl_enabled),onChange:function(e){return F("localization","rtl_enabled",e.target.checked)}}),r().createElement("span",null,"ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ RTL"))),r().createElement("div",{className:"setting-item checkbox-item"},r().createElement("label",null,r().createElement("input",{type:"checkbox",checked:!1!==(null===(s=M.localization)||void 0===s?void 0:s.translation_enabled),onChange:function(e){return F("localization","translation_enabled",e.target.checked)}}),r().createElement("span",null,"ØªØ±Ø¬Ù…Ù‡ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ Ø¹Ø±Ø¨ÛŒ"))))),"firewall"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ”¥ ÙØ§ÛŒØ±ÙˆØ§Ù„ Ù¾ÛŒØ´Ø±ÙØªÙ‡ (WAF)"),r().createElement("p",{className:"description"},"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Web Application Firewall"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ"),r().createElement("div",{className:"setting-item checkbox-item"},r().createElement("label",null,r().createElement("input",{type:"checkbox",checked:!1!==(null===(u=M.firewall)||void 0===u?void 0:u.waf_enabled),onChange:function(e){return F("firewall","waf_enabled",e.target.checked)}}),r().createElement("span",null,"ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ WAF"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø³Ø·Ø­ Ø­Ø³Ø§Ø³ÛŒØª:"),r().createElement("select",{value:(null===(m=M.firewall)||void 0===m?void 0:m.waf_sensitivity)||"medium",onChange:function(e){return F("firewall","waf_sensitivity",e.target.value)}},r().createElement("option",{value:"low"},"Ú©Ù… - Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨Ø§ Ù‡Ù…Ù‡"),r().createElement("option",{value:"medium"},"Ù…ØªÙˆØ³Ø· - ØªÙˆØµÛŒÙ‡ Ø´Ø¯Ù‡"),r().createElement("option",{value:"high"},"Ø¨Ø§Ù„Ø§ - Ø³Ø®ØªÚ¯ÛŒØ±Ø§Ù†Ù‡"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øª (Rate Limit):"),r().createElement("input",{type:"number",value:(null===(d=M.firewall)||void 0===d?void 0:d.waf_rate_limit)||100,onChange:function(e){return F("firewall","waf_rate_limit",parseInt(e.target.value))},min:"10",max:"1000",placeholder:"100"}),r().createElement("small",null,"ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø¬Ø§Ø² Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡"))),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"Ù„ÛŒØ³Øª Ø³ÙÛŒØ¯ IP (Whitelist)"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"IP Ù‡Ø§ÛŒ Ù…Ø¬Ø§Ø² (Ù‡Ø± Ú©Ø¯Ø§Ù… Ø¯Ø± ÛŒÚ© Ø®Ø·):"),r().createElement("textarea",{value:((null===(v=M.firewall)||void 0===v?void 0:v.waf_whitelist_ips)||[]).join("\n"),onChange:function(e){var t=e.target.value.split("\n").filter(function(e){return e.trim()});F("firewall","waf_whitelist_ips",t)},rows:5,placeholder:"192.168.1.1\n10.0.0.1"}))),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"Ù„ÛŒØ³Øª Ø³ÛŒØ§Ù‡ IP (Blacklist)"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"IP Ù‡Ø§ÛŒ Ù…Ø³Ø¯ÙˆØ¯ (Ù‡Ø± Ú©Ø¯Ø§Ù… Ø¯Ø± ÛŒÚ© Ø®Ø·):"),r().createElement("textarea",{value:((null===(f=M.firewall)||void 0===f?void 0:f.waf_blacklist_ips)||[]).join("\n"),onChange:function(e){var t=e.target.value.split("\n").filter(function(e){return e.trim()});F("firewall","waf_blacklist_ips",t)},rows:5,placeholder:"1.2.3.4\n5.6.7.8"})))),"security"===E&&r().createElement("div",{className:"settings-section"},r().createElement("h2",null,"ğŸ›¡ï¸ Ø§Ù…Ù†ÛŒØª Ùˆ ÙØ§ÛŒØ±ÙˆØ§Ù„"),r().createElement("div",{className:"setting-group"},r().createElement("h3",null,"ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙØ§ÛŒØ±ÙˆØ§Ù„"),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø­Ø³Ø§Ø³ÛŒØª:"),r().createElement("select",{value:M.security.sensitivity||"medium",onChange:function(e){return F("security","sensitivity",e.target.value)}},r().createElement("option",{value:"low"},"Ú©Ù… (Ø³Ø§Ø²Ú¯Ø§Ø±)"),r().createElement("option",{value:"medium"},"Ù…ØªÙˆØ³Ø· (ØªÙˆØµÛŒÙ‡ Ø´Ø¯Ù‡)"),r().createElement("option",{value:"high"},"Ø¨Ø§Ù„Ø§ (Ø³Ø®ØªÚ¯ÛŒØ±Ø§Ù†Ù‡)"))),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ø­Ø¯ Ø¢Ø³ØªØ§Ù†Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø§Ù…Ù†ÛŒØªÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø³Ø¯ÙˆØ¯Ø³Ø§Ø²ÛŒ:"),r().createElement("input",{type:"number",value:M.security.block_threshold||30,onChange:function(e){return F("security","block_threshold",parseInt(e.target.value))},min:"0",max:"100"})),r().createElement("div",{className:"setting-item"},r().createElement("label",null,"Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ù…Ø³Ø¯ÙˆØ¯Ø³Ø§Ø²ÛŒ IP (Ø³Ø§Ø¹Øª):"),r().createElement("input",{type:"number",value:M.security.block_duration||24,onChange:function(e){return F("security","block_duration",parseInt(e.target.value))},min:"1",max:"720"})))))))};function Y(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function l(n,a,r,l){var i=a&&a.prototype instanceof o?a:o,s=Object.create(i.prototype);return Z(s,"_invoke",function(n,a,r){var l,o,i,s=0,u=r||[],m=!1,d={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return l=t,o=0,i=e,d.n=n,c}};function v(n,a){for(o=n,i=a,t=0;!m&&s&&!r&&t<u.length;t++){var r,l=u[t],v=d.p,f=l[2];n>3?(r=f===a)&&(i=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=v&&((r=n<2&&v<l[1])?(o=0,d.v=a,d.n=l[1]):v<f&&(r=n<3||l[0]>a||a>f)&&(l[4]=n,l[5]=a,d.n=f,o=0))}if(r||n>1)return c;throw m=!0,a}return function(r,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&v(u,f),o=u,i=f;(t=o<2?e:i)||!m;){l||(o?o<3?(o>1&&(d.n=-1),v(o,i)):d.n=i:d.v=i);try{if(s=2,l){if(o||(r="next"),t=l[r]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=l.return)&&t.call(l),o<2&&(i=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((t=(m=d.n<0)?i:n.call(a,d))!==c)break}catch(t){l=e,o=1,i=t}finally{s=1}}return{value:t,done:m}}}(n,r,l),!0),s}var c={};function o(){}function i(){}function s(){}t=Object.getPrototypeOf;var u=[][a]?t(t([][a]())):(Z(t={},a,function(){return this}),t),m=s.prototype=o.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Z(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return i.prototype=s,Z(m,"constructor",s),Z(s,"constructor",i),i.displayName="GeneratorFunction",Z(s,r,"GeneratorFunction"),Z(m),Z(m,r,"Generator"),Z(m,a,function(){return this}),Z(m,"toString",function(){return"[object Generator]"}),(Y=function(){return{w:l,m:d}})()}function Z(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}Z=function(e,t,n,a){function l(t,n){Z(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},Z(e,t,n,a)}function ee(e,t,n,a,r,l,c){try{var o=e[l](c),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(a,r)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,c,o=[],i=!0,s=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const ae=function(){var e,t,n,l=te((0,a.useState)("overview"),2),c=l[0],o=l[1],i=te((0,a.useState)(null),2),s=i[0],u=i[1],m=te((0,a.useState)(!1),2),d=(m[0],m[1],[{id:"overview",name:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§Ø¬Ø±Ø§ÛŒÛŒ",icon:"ğŸ“Š",component:f,description:"Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ Ù…ØµØ±Ù Ùˆ Ø¯Ø§Ø¯Ù‡Ù‡Ø§ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ©"},{id:"users",name:"Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†",icon:"ğŸ‘¥",component:N,description:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Û³Û¶Û° Ø¯Ø±Ø¬Ù‡ Ùˆ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ú¯ÙØªÚ¯ÙˆÙ‡Ø§"},{id:"health",name:"Ø³Ù„Ø§Ù…Øª Ùˆ Ø¹ÛŒØ¨ÛŒØ§Ø¨ÛŒ",icon:"ğŸ¥",component:S,description:"Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø²Ù†Ø¯Ù‡ Ùˆ Ø¹ÛŒØ¨ÛŒØ§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø±"},{id:"brain",name:"ØªÙˆØ³Ø¹Ù‡ Ù…ØºØ²",icon:"ğŸ§ ",component:R,description:"Ø±Ø´Ø¯ Ø¯Ø§Ù†Ø´ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§"},{id:"settings",name:"Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡",icon:"âš™ï¸",component:V,description:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø·Ø¨Ù‚Ù‡Ø¨Ù†Ø¯ÛŒ Ø´Ø¯Ù‡ Ùˆ ÙØ§ÛŒØ±ÙˆØ§Ù„",adminOnly:!0}]),v="administrator"===(null===(e=window.homaConsoleConfig)||void 0===e?void 0:e.userRole);(0,a.useEffect)(function(){p()},[]);var p=function(){var e,t=(e=Y().m(function e(){var t,n,a;return Y().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(window.homaConsoleConfig.apiUrl+"/system/status",{headers:{"X-WP-Nonce":window.homaConsoleConfig.nonce}});case 1:return t=e.v,e.n=2,t.json();case 2:(n=e.v).success&&u(n.data),e.n=4;break;case 3:e.p=3,a=e.v,console.error("Failed to load system status:",a);case 4:return e.a(2)}},e,null,[[0,3]])}),function(){var t=this,n=arguments;return new Promise(function(a,r){var l=e.apply(t,n);function c(e){ee(l,a,r,c,o,"next",e)}function o(e){ee(l,a,r,c,o,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}(),E=(null===(t=d.find(function(e){return e.id===c}))||void 0===t?void 0:t.component)||f;return r().createElement("div",{className:"homa-super-console",dir:"rtl"},r().createElement("div",{className:"console-header"},r().createElement("div",{className:"console-title"},r().createElement("h1",null,"ğŸ›ï¸ Ø³ÙˆÙ¾Ø± Ù¾Ù†Ù„ Ù‡Ù…Ø§ (Homa Super Console)"),r().createElement("p",{className:"console-subtitle"},"Ù…Ø±Ú©Ø² Ú©Ù†ØªØ±Ù„ Ù…ØªÙ…Ø±Ú©Ø² Ùˆ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ©")),s&&r().createElement("div",{className:"system-status-indicator"},r().createElement("div",{className:"status-badge ".concat(s.overall_health||"healthy")},r().createElement("span",{className:"status-icon"},"healthy"===s.overall_health?"âœ“":"âš "),r().createElement("span",{className:"status-text"},"healthy"===s.overall_health?"Ø³Ø§Ù„Ù…":"Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙˆØ¬Ù‡")))),r().createElement("div",{className:"console-tabs"},d.map(function(e){return e.adminOnly&&!v?null:r().createElement("button",{key:e.id,className:"console-tab ".concat(c===e.id?"active":""),onClick:function(){return o(e.id)},title:e.description},r().createElement("span",{className:"tab-icon"},e.icon),r().createElement("span",{className:"tab-label"},e.name))})),r().createElement("div",{className:"tab-description"},r().createElement("p",null,null===(n=d.find(function(e){return e.id===c}))||void 0===n?void 0:n.description)),r().createElement("div",{className:"console-content"},r().createElement(E,{onRefresh:p})))};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("homa-super-console-root");e&&(0,l.H)(e).render(r().createElement(ae,null))}),window.HomaSuperConsole={}})();