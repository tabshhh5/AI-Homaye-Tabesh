/*! For license information please see observer.js.LICENSE.txt */
(()=>{"use strict";var e={338(e,t,n){var r=n(795);t.H=r.createRoot,r.hydrateRoot},795(e){e.exports=window.ReactDOM}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=window.React;var a=n.n(r),c=n(338);function s(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,r,a,c){var s=r&&r.prototype instanceof u?r:u,i=Object.create(s.prototype);return o(i,"_invoke",function(n,r,a){var c,s,o,u=0,i=a||[],m=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return c=t,s=0,o=e,f.n=n,l}};function v(n,r){for(s=n,o=r,t=0;!m&&u&&!a&&t<i.length;t++){var a,c=i[t],v=f.p,d=c[2];n>3?(a=d===r)&&(o=c[(s=c[4])?5:(s=3,3)],c[4]=c[5]=e):c[0]<=v&&((a=n<2&&v<c[1])?(s=0,f.v=r,f.n=c[1]):v<d&&(a=n<3||c[0]>r||r>d)&&(c[4]=n,c[5]=r,f.n=d,s=0))}if(a||n>1)return l;throw m=!0,r}return function(a,i,d){if(u>1)throw TypeError("Generator is already running");for(m&&1===i&&v(i,d),s=i,o=d;(t=s<2?e:o)||!m;){c||(s?s<3?(s>1&&(f.n=-1),v(s,o)):f.n=o:f.v=o);try{if(u=2,c){if(s||(a="next"),t=c[a]){if(!(t=t.call(c,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,s<2&&(s=0)}else 1===s&&(t=c.return)&&t.call(c),s<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),s=1);c=e}else if((t=(m=f.n<0)?o:n.call(r,f))!==l)break}catch(t){c=e,s=1,o=t}finally{u=1}}return{value:t,done:m}}}(n,a,c),!0),i}var l={};function u(){}function i(){}function m(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(o(t={},r,function(){return this}),t),v=m.prototype=u.prototype=Object.create(f);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,o(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e}return i.prototype=m,o(v,"constructor",m),o(m,"constructor",i),i.displayName="GeneratorFunction",o(m,a,"GeneratorFunction"),o(v),o(v,a,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),(s=function(){return{w:c,m:d}})()}function o(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,t,n,r){function c(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(c("next",0),c("throw",1),c("return",2))},o(e,t,n,r)}function l(e,t,n,r,a,c,s){try{var o=e[c](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var c=e.apply(t,n);function s(e){l(c,r,a,s,o,"next",e)}function o(e){l(c,r,a,s,o,"throw",e)}s(void 0)})}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,s,o=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=c.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const f=function(){var e,t,n=i((0,r.useState)(null),2),c=n[0],o=n[1],l=i((0,r.useState)([]),2),m=l[0],f=l[1],v=i((0,r.useState)([]),2),d=v[0],p=v[1],E=i((0,r.useState)([]),2),h=E[0],b=E[1],y=i((0,r.useState)(!0),2),N=y[0],g=y[1],w=i((0,r.useState)(!1),2),O=w[0],_=w[1],S=i((0,r.useState)(""),2),j=S[0],P=S[1],k=(null===(e=window.homaObserverConfig)||void 0===e?void 0:e.apiUrl)||"/wp-json/homaye/v1",T=(null===(t=window.homaObserverConfig)||void 0===t?void 0:t.nonce)||"",x=function(){var e=u(s().m(function e(t){var n,r,a,c,o,l=arguments;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return a={method:n=l.length>1&&void 0!==l[1]?l[1]:"GET",headers:{"X-WP-Nonce":T,"Content-Type":"application/json"}},(r=l.length>2&&void 0!==l[2]?l[2]:null)&&"GET"!==n&&(a.body=JSON.stringify(r)),e.p=1,e.n=2,fetch("".concat(k).concat(t),a);case 2:return c=e.v,e.n=3,c.json();case 3:return e.a(2,e.v);case 4:return e.p=4,o=e.v,console.error("API request failed:",o),e.a(2,{success:!1,message:"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ±"})}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=u(s().m(function e(){var t;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,x("/observer/status");case 1:(t=e.v).success&&o(t.data);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=u(s().m(function e(){var t;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,x("/observer/plugins");case 1:(t=e.v).success&&f(t.data);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=u(s().m(function e(){var t;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,x("/observer/changes");case 1:(t=e.v).success&&p(t.data||[]);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=u(s().m(function e(){var t;return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,x("/observer/facts");case 1:(t=e.v).success&&b(t.data||[]);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=u(s().m(function e(t,n){var r;return s().w(function(e){for(;;)switch(e.n){case 0:return r=n?"/observer/monitor/remove":"/observer/monitor/add",e.n=1,x(r,"POST",{plugin_path:t});case 1:if(!e.v.success){e.n=3;break}return e.n=2,Promise.all([G(),A()]);case 2:e.n=4;break;case 3:alert("Ø®Ø·Ø§ Ø¯Ø± Ø§Ù†Ø¬Ø§Ù… Ø¹Ù…Ù„ÛŒØ§Øª");case 4:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=u(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:return _(!0),P(""),e.n=1,x("/observer/refresh","POST");case 1:if(!e.v.success){e.n=3;break}return P("âœ… Ù…ØªØ§Ø¯ÛŒØªØ§ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯!"),e.n=2,G();case 2:e.n=4;break;case 3:P("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ");case 4:_(!1);case 5:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)(function(){var e=function(){var e=u(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:return g(!0),e.n=1,Promise.all([G(),A(),C(),I()]);case 1:g(!1);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(function(){C(),I()},3e4);return function(){return clearInterval(t)}},[]),N?a().createElement("div",{className:"homa-observer",dir:"rtl"},a().createElement("div",{className:"observer-loading"},a().createElement("div",{className:"loading-spinner"}),a().createElement("p",null,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."))):a().createElement("div",{className:"homa-observer",dir:"rtl"},a().createElement("div",{className:"observer-header"},a().createElement("h1",null,"ğŸ” Ù†Ø§Ø¸Ø± Ú©Ù„ Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§"),a().createElement("p",{className:"observer-subtitle"},"Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø¸Ø§Ø±Øª Ø¨Ø± Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ Ùˆ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ø§ÛŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ")),a().createElement("div",{className:"observer-card"},a().createElement("h2",null,"ÙˆØ¶Ø¹ÛŒØª Ù†Ø§Ø¸Ø± Ú©Ù„"),c?a().createElement("div",{className:"status-grid"},a().createElement("div",{className:"status-item"},a().createElement("span",{className:"status-icon"},"âœ…"),a().createElement("div",{className:"status-info"},a().createElement("span",{className:"status-label"},"Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ­Øª Ù†Ø¸Ø±"),a().createElement("span",{className:"status-value"},c.monitored_count))),a().createElement("div",{className:"status-item"},a().createElement("span",{className:"status-icon"},"ğŸ”Œ"),a().createElement("div",{className:"status-info"},a().createElement("span",{className:"status-label"},"Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„"),a().createElement("span",{className:"status-value"},c.active_count))),a().createElement("div",{className:"status-item"},a().createElement("span",{className:"status-icon"},"ğŸ•"),a().createElement("div",{className:"status-info"},a().createElement("span",{className:"status-label"},"Ø¢Ø®Ø±ÛŒÙ† Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ"),a().createElement("span",{className:"status-value"},c.last_sync)))):a().createElement("p",null,"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...")),a().createElement("div",{className:"observer-card"},a().createElement("h2",null,"Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù†ØµØ¨ Ø´Ø¯Ù‡"),a().createElement("p",{className:"card-description"},"Ø§ÙØ²ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªØ­Øª Ù†Ø¸Ø± Ø¨Ø§ âœ… Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯. Ø¨Ø±Ø§ÛŒ Ø§Ø¶Ø§ÙÙ‡/Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ø§ÙØ²ÙˆÙ†Ù‡ Ø§Ø² Ù„ÛŒØ³Øª Ù†Ø¸Ø§Ø±ØªØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯."),a().createElement("div",{className:"plugins-table-container"},m.length>0?a().createElement("table",{className:"plugins-table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,"Ù†Ø§Ù… Ø§ÙØ²ÙˆÙ†Ù‡"),a().createElement("th",null,"Ù†Ø³Ø®Ù‡"),a().createElement("th",null,"ÙˆØ¶Ø¹ÛŒØª"),a().createElement("th",null,"Ù†Ø¸Ø§Ø±Øª"),a().createElement("th",null,"Ø¹Ù…Ù„ÛŒØ§Øª"))),a().createElement("tbody",null,m.map(function(e,t){return a().createElement("tr",{key:t},a().createElement("td",null,a().createElement("strong",null,e.name),a().createElement("br",null),a().createElement("small",{className:"plugin-description"},e.description)),a().createElement("td",null,e.version),a().createElement("td",null,a().createElement("span",{className:"status-badge ".concat(e.is_active?"active":"inactive")},e.is_active?"âœ… ÙØ¹Ø§Ù„":"âŒ ØºÛŒØ±ÙØ¹Ø§Ù„")),a().createElement("td",null,a().createElement("span",{className:"monitor-badge ".concat(e.is_monitored?"monitored":"not-monitored")},e.is_monitored?"âœ… ØªØ­Øª Ù†Ø¸Ø±":"â– Ø®ÛŒØ±")),a().createElement("td",null,a().createElement("button",{className:"toggle-btn ".concat(e.is_monitored?"remove":"add"),onClick:function(){return M(e.path,e.is_monitored)}},e.is_monitored?"Ø­Ø°Ù Ø§Ø² Ù†Ø¸Ø§Ø±Øª":"Ø§Ø¶Ø§ÙÙ‡ Ø¨Ù‡ Ù†Ø¸Ø§Ø±Øª")))}))):a().createElement("p",{className:"no-data"},"Ù‡ÛŒÚ† Ø§ÙØ²ÙˆÙ†Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"))),a().createElement("div",{className:"observer-card"},a().createElement("h2",null,"ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø®ÛŒØ±"),d.length>0?a().createElement("table",{className:"changes-table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,"Ù†ÙˆØ¹ Ø±ÙˆÛŒØ¯Ø§Ø¯"),a().createElement("th",null,"Ø²Ù…Ø§Ù†"))),a().createElement("tbody",null,d.map(function(e,t){return a().createElement("tr",{key:t},a().createElement("td",null,e.event_type),a().createElement("td",null,e.created_at))}))):a().createElement("p",{className:"no-data"},"Ù‡ÛŒÚ† ØªØºÛŒÛŒØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.")),a().createElement("div",{className:"observer-card"},a().createElement("h2",null,"ÙÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´Ø¯Ù‡"),h.length>0?a().createElement("ul",{className:"facts-list"},h.map(function(e,t){return a().createElement("li",{key:t},a().createElement("strong",null,e.fact),a().createElement("small",{className:"fact-date"}," (",e.created_at,")"))})):a().createElement("p",{className:"no-data"},"Ù‡ÛŒÚ† ÙÚ©ØªÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.")),a().createElement("div",{className:"observer-card"},a().createElement("h2",null,"Ø¹Ù…Ù„ÛŒØ§Øª"),a().createElement("div",{className:"actions-container"},a().createElement("button",{className:"refresh-btn",onClick:R,disabled:O},O?"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ...":"Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…ØªØ§Ø¯ÛŒØªØ§"),j&&a().createElement("span",{className:"refresh-status ".concat(j.includes("âœ…")?"success":"error")},j))))};document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("homa-observer-root");e&&(0,c.H)(e).render(a().createElement(f,null))}),window.HomaObserver={}})();