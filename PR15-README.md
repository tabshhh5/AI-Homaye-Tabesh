# PR15: ุชุดุฎุต ููุช ฺูุฏุณุทุญ ู ุณุณุชู ุดูุงุณุง ููุงุฌู

## Multi-Role Intelligence & Intruder Detection System

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/tabshhh4-sketch/AI-Homaye-Tabesh)
[![Status](https://img.shields.io/badge/status-production-green.svg)](https://github.com/tabshhh4-sketch/AI-Homaye-Tabesh)
[![License](https://img.shields.io/badge/license-GPL--3.0-orange.svg)](LICENSE)

---

## ๐ ุฏุฑุจุงุฑู ุงู PR

ุงู PR ฺฉ ุณุณุชู ููุดููุฏ **ุชุดุฎุต ููุด ฺฉุงุฑุจุฑ** ู **ุดูุงุณุง ููุงุฌู** ุจู ุงูุฒููู ููุง ุชุงุจุด ุงุถุงูู ูโฺฉูุฏ. ููุง ุญุงูุง ูโุชูุงูุฏ:

- ๐ญ ููุด ฺฉุงุฑุจุฑ ุฑุง ุชุดุฎุต ุฏูุฏ (ูุฏุฑุ ูุดุชุฑุ ูููุงูุ ููุงุฌู)
- ๐ก๏ธ ุฑูุชุงุฑูุง ูุดฺฉูฺฉ ุฑุง ุดูุงุณุง ฺฉูุฏ
- ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุง ูุชูุงุณุจ ุจุง ููุด ุชูุธู ฺฉูุฏ
- ๐จ ุจู ูุฏุฑ ุฏุฑุจุงุฑู ุญููุงุช ุงุญุชูุงู ุงุทูุงุน ุฏูุฏ

---

## โจ ูฺฺฏโูุง ุงุตู

### 1๏ธโฃ ุชุดุฎุต ุฎูุฏฺฉุงุฑ ููุด
```php
$role_resolver = HT_Core::instance()->role_resolver;
$context = $role_resolver->get_homa_user_context();

// ูุชุฌู:
[
    'role' => 'customer',
    'identity' => 'ุนู ุงุญูุฏ',
    'capabilities' => ['view_orders', 'track_shipments', ...],
    'security_token' => '...'
]
```

### 2๏ธโฃ ุดูุงุณุง ููุงุฌู (IDS)
```php
$intruder_detector = HT_Core::instance()->intruder_detector;

if ($intruder_detector->is_suspicious_behavior()) {
    // ฺฉุงุฑุจุฑ ูุดฺฉูฺฉ ุงุณุช!
    // ุฏุณุชุฑุณ ูุญุฏูุฏ ูโุดูุฏ
    // ูุฏุฑ ูุทูุน ูโุดูุฏ
}
```

### 3๏ธโฃ ฺฉูุชุฑู ุฏุณุชุฑุณ ูพูุง
```php
$chat_capabilities = HT_Core::instance()->chat_capabilities;

if ($chat_capabilities->can_access_tool('analytics')) {
    // ููุงุด ุขูุงุฑ
}
```

### 4๏ธโฃ ูุดุฏุงุฑูุง ุงููุช
```php
$security_alerts = HT_Core::instance()->security_alerts;

// ุฏุฑุงูุช ูุดุฏุงุฑูุง ุฌุฏุฏ
$alerts = $security_alerts->get_recent_alerts(20, true);

// ุฏุฑุงูุช ุขูุงุฑ
$stats = $security_alerts->get_security_statistics('today');
```

---

## ๐ฏ ููุดโูุง ูพุดุชุจุงู ุดุฏู

### ๐จโ๐ผ ูุฏุฑ (Administrator)
- ุฏุณุชุฑุณ ฺฉุงูู ุจู ุขูุงุฑ ู ฺฏุฒุงุฑุดุงุช
- ูุดุงูุฏู ฺฉุงุฑุจุฑุงู ุขููุงู
- ุฏุณุชุฑุณ ุจู ูุดุฏุงุฑูุง ุงููุช
- ูุงูุจุฑูุง ุงุทูุณ

**ุงุจุฒุงุฑูุง:**
- ๐ ุขูุงุฑ ู ุชุญูู
- ๐ฐ ฺฏุฒุงุฑุด ูุฑูุด
- ๐ฅ ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- โก ุฏุงุดุจูุฑุฏ ุงุทูุณ
- ๐ก๏ธ ูุงูุชูุฑ ุงููุช

### ๐ค ูุดุชุฑ (Customer)
- ูุดุงูุฏู ู ูพฺฏุฑ ุณูุงุฑุดุงุช
- ุชูุฏุฏ ูุงฺฉุชูุฑูุง
- ูพฺฏุฑ ูุฑุณููุงุช
- ุงุฌุงุฏ ุชฺฉุช ูพุดุชุจุงู

**ุงุจุฒุงุฑูุง:**
- ๐ฆ ูพฺฏุฑ ุณูุงุฑุด
- ๐ณ ุชูุฏุฏ ูุงฺฉุชูุฑ
- ๐ ูพฺฏุฑ ูุฑุณููู
- ๐ฌ ุชฺฉุช ูพุดุชุจุงู

### ๐ ูููุงู (Guest)
- ูุนุฑู ุฎุฏูุงุช ฺุงูพฺฉู
- ูุญุงุณุจู ุชุฑุงฺ ฺฉุชุงุจ
- ูุดุงูุฏู ูุญุตููุงุช
- ุซุจุชโูุงู ุณุฑุน ุจุง OTP

**ุงุจุฒุงุฑูุง:**
- ๐ ฺฉุงูุดฺฏุฑ ูุญุตููุงุช
- โน๏ธ ูุนุฑู ุฎุฏูุงุช
- ๐ ุซุจุชโูุงู ุณุฑุน

### ๐ซ ููุงุฌู (Intruder)
- ุฏุณุชุฑุณ ูุณุฏูุฏ
- ููุงุด ูุดุฏุงุฑ ุงููุช
- ุซุจุช ุฏุฑ ูุงฺฏ ุงููุช
- ุงุทูุงุนโุฑุณุงู ุจู ูุฏุฑ

---

## ๐ ุงูฺฏูุฑุชู ุชุดุฎุต ููุงุฌู

### ูุนุงุฑูุง ุชุดุฎุต:

#### 1. ุฏุณุชุฑุณ ุจู ูุงูโูุง ุญุณุงุณ
- `wp-config.php`
- `.env`
- `.git/config`
- `phpinfo.php`

**ุงูุชุงุฒ:** 80 ูพููุช

#### 2. ุงูฺฏููุง ุชุฒุฑู (Injection)
- SQL Injection: `UNION SELECT`, `DROP TABLE`
- XSS: `<script>`, `javascript:`, `onerror=`
- Code Injection: `eval()`, `base64_decode()`

**ุงูุชุงุฒ:** 60 ูพููุช

#### 3. ุงุณฺฉู ุณุฑุน ุตูุญุงุช
- ุจุด ุงุฒ 20 ุฏุฑุฎูุงุณุช ุฏุฑ 60 ุซุงูู
- ุฏุณุชุฑุณ ุจู ุจุด ุงุฒ 10 URL ูุฎุชูู

**ุงูุชุงุฒ:** 50 ูพููุช

#### 4. User Agent ูุดฺฉูฺฉ
- `sqlmap`, `nikto`, `nmap`
- `acunetix`, `metasploit`
- User Agent ุฎุงู

**ุงูุชุงุฒ:** 30 ูพููุช

### ุขุณุชุงูู ุชุดุฎุต:
```
ฺฉู ุงูุชุงุฒ >= 100 โ ููุงุฌู ุดูุงุฎุชู ูโุดูุฏ
```

---

## ๐จ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุชูุงุณุจ ุจุง ููุด

### ฺฉุงููพูููุชโูุง React:

#### AdminTools.jsx
```jsx
<AdminTools userContext={context} />
```
ููุงุด ุงุจุฒุงุฑูุง ูุฏุฑุชุ ุฏฺฉููโูุง ุขูุงุฑ ู ูุดุฏุงุฑูุง ุงููุช

#### OrderTracker.jsx
```jsx
<OrderTracker userContext={context} />
```
ููุงุด ุณูุงุฑุดุงุชุ ุฏฺฉููโูุง ูพฺฏุฑ ู ุชูุฏุฏ

#### LeadGenerator.jsx
```jsx
<LeadGenerator userContext={context} />
```
ูุนุฑู ุฎุฏูุงุชุ ูุญุงุณุจู ุชุฑุงฺุ ุซุจุชโูุงู OTP

#### SecurityWarning.jsx
```jsx
<SecurityWarning detectionReason={reason} />
```
ููุงุด ูุดุฏุงุฑ ุงููุช ุจุฑุง ููุงุฌูู

---

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูุฑุญูู 1: ุฏุฑุงูุช ฺฉุฏ
```bash
git clone https://github.com/tabshhh4-sketch/AI-Homaye-Tabesh.git
cd AI-Homaye-Tabesh
```

### ูุฑุญูู 2: ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
composer install
npm install
```

### ูุฑุญูู 3: Build ูุงูโูุง React
```bash
npm run build
```

### ูุฑุญูู 4: ูุนุงูโุณุงุฒ ุงูุฒููู
ุฏุฑ ุฏุงุดุจูุฑุฏ ูุฑุฏูพุฑุณ:
```
ุงูุฒูููโูุง > ุงูุฒูููโูุง ูุตุจ ุดุฏู > ููุง ุชุงุจุด > ูุนุงูโุณุงุฒ
```

---

## ๐งช ุชุณุช

### ุชุณุช ุฎูุฏฺฉุงุฑ
ุจุงุฒ ฺฉูุฏ: `https://yoursite.com/wp-content/plugins/homaye-tabesh/validate-pr15.html`

### ุชุณุช ุฏุณุช

#### ุชุณุช 1: ููุด ูุฏุฑ
```
1. ุจุง ุงฺฉุงูุช ูุฏุฑ ูุงฺฏู ฺฉูุฏ
2. FAB ููุง ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุงุจุฒุงุฑูุง ูุฏุฑุช ุฑุง ูุดุงูุฏู ฺฉูุฏ
```

#### ุชุณุช 2: ููุด ูุดุชุฑ
```
1. ุจุง ุงฺฉุงูุช ูุดุชุฑ ูุงฺฏู ฺฉูุฏ
2. FAB ููุง ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุณูุงุฑุดุงุช ุฎูุฏ ุฑุง ูุดุงูุฏู ฺฉูุฏ
```

#### ุชุณุช 3: ุดูุงุณุง ููุงุฌู
```
1. ุฏุฑ ฺุช ุจููุณุฏ: <script>alert()</script>
2. ุง ุจู wp-config.php ุฏุณุชุฑุณ ูพุฏุง ฺฉูุฏ
3. ููุง ุดูุง ุฑุง ูุณุฏูุฏ ูโฺฉูุฏ
```

---

## ๐ REST API

### Endpoints ุฌุฏุฏ:

```
GET  /wp-json/homaye-tabesh/v1/capabilities/context
GET  /wp-json/homaye-tabesh/v1/capabilities/tools
GET  /wp-json/homaye-tabesh/v1/capabilities/features
GET  /wp-json/homaye-tabesh/v1/security/alerts
GET  /wp-json/homaye-tabesh/v1/security/statistics
```

---

## ๐๏ธ ุฏุชุงุจุณ

### ุฌุฏูู ุฌุฏุฏ:
```sql
wp_homa_security_log
```

**ุณุชููโูุง:**
- `id` - ุดูุงุณู ฺฉุชุง
- `event_type` - ููุน ุฑูุฏุงุฏ
- `ip_address` - ุขโูพ ููุงุฌู
- `user_agent` - User Agent
- `request_uri` - ุขุฏุฑุณ ุฏุฑุฎูุงุณุช
- `detection_reason` - ุฏูู ุชุดุฎุต
- `severity` - ุดุฏุช (low, medium, high)
- `dismissed` - ูุงุฏุฏู ฺฏุฑูุชู ุดุฏู
- `created_at` - ุชุงุฑุฎ ุงุฌุงุฏ

---

## ๐๏ธ ูพฺฉุฑุจูุฏ

### ุชูุธูุงุช ูพุดโูุฑุถ:

```php
// ุขุณุชุงูู ุชุดุฎุต ููุงุฌู
SCORE_THRESHOLD = 100

// ุงูุชุงุฒูุง
SCORE_SUSPICIOUS_FILE = 80
SCORE_SUSPICIOUS_PATTERN = 60
SCORE_ADMIN_ACCESS = 40
SCORE_RAPID_SCANNING = 50
SCORE_BOT_USER_AGENT = 30

// ูุฏุช ุฒูุงู ุฐุฎุฑู ูุงฺฏ
LOG_RETENTION_DAYS = 90

// ูุงุตูู ุฒูุงู Cron Job
CLEANUP_SCHEDULE = 'weekly'
```

---

## ๐ ูุณุชูุฏุงุช

- **ุฑุงูููุง ุณุฑุน**: [PR15-QUICKSTART.md](PR15-QUICKSTART.md)
- **ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ**: [PR15-IMPLEMENTATION.md](PR15-IMPLEMENTATION.md)
- **ุฎูุงุตู ุชุบุฑุงุช**: [PR15-SUMMARY.md](PR15-SUMMARY.md)

---

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ฺฏุฒุงุฑุด ุจุงฺฏ ุง ูพุดููุงุฏ ูฺฺฏ ุฌุฏุฏ:
[GitHub Issues](https://github.com/tabshhh4-sketch/AI-Homaye-Tabesh/issues)

---

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุงุณูุณ GPL-3.0 ููุชุดุฑ ุดุฏู ุงุณุช.

---

## ๐จโ๐ป ุชูุณุนูโุฏููุฏู

**Tabshhh4**
- GitHub: [@tabshhh4-sketch](https://github.com/tabshhh4-sketch)
- ุชุงุฑุฎ ุงูุชุดุงุฑ: 2025-12-26

---

## ๐ ุชุดฺฉุฑ

ุงุฒ ููู ฺฉุณุงู ฺฉู ุฏุฑ ุชูุณุนู ุงู ูฺฺฏ ููฺฉุงุฑ ุฏุงุดุชูุฏุ ุตููุงูู ุชุดฺฉุฑ ูโฺฉูู!

---

**ูุณุฎู**: 1.0.0  
**ูุถุนุช**: Production Ready โ  
**ุขุฎุฑู ุจุฑูุฒุฑุณุงู**: 2025-12-26
